category: IT Services
commonfields:
  id: GoogleDrive
  version: -1
configuration:
- display: User's Service Account JSON
  hidden: true
  name: user_service_account_json
  required: false
  section: Connect
  type: 4
- additionalinfo: The primary email address of the user to fetch the incident(s).
  advanced: true
  display: User ID
  hidden: true
  name: user_id
  required: false
  section: Connect
  type: 0
- display: User ID
  displaypassword: User's Service Account JSON
  name: user_creds
  required: false
  section: Connect
  type: 9
- additionalinfo: Action types to include for fetching the incident.
  advanced: true
  display: Action Detail Case Include
  name: action_detail_case_include
  options:
  - CREATE
  - EDIT
  - MOVE
  - RENAME
  - DELETE
  - RESTORE
  - COMMENT
  - REFERENCE
  required: false
  section: Collect
  type: 16
- additionalinfo: itemName - Fetch activities for this drive item. The format is "items/ITEM_ID".
    folderName - Fetch activities for this drive folder and all children and descendants.
    The format is "items/ITEM_ID".
  advanced: true
  display: Drive Item Search Field
  name: drive_item_search_field
  options:
  - itemName
  - folderName
  required: false
  section: Collect
  type: 15
- additionalinfo: itemName or folderName for fetching the incident.
  advanced: true
  display: Drive Item Search Value
  name: drive_item_search_value
  required: false
  section: Collect
  type: 0
- display: Fetch incidents
  name: isFetch
  required: false
  section: Collect
  type: 8
- display: Incident type
  name: incidentType
  required: false
  type: 13
- additionalinfo: The maximum number of incidents to fetch each time.
  defaultvalue: "50"
  display: Max Incidents
  name: max_fetch
  required: false
  section: Collect
  type: 0
- additionalinfo: The time range to consider for the initial data fetch in the format
    <number> <unit> e.g., 1 hour, 2 hours, 6 hours, 12 hours, 24 hours, 48 hours.
  advanced: true
  defaultvalue: 10 minutes
  display: First Fetch Time Interval
  name: first_fetch
  required: false
  section: Collect
  type: 0
- advanced: true
  display: Trust any certificate (not secure)
  name: insecure
  required: false
  section: Connect
  type: 8
- advanced: true
  display: Use system proxy settings
  name: proxy
  required: false
  section: Connect
  type: 8
- defaultvalue: "1"
  display: Incidents Fetch Interval
  name: incidentFetchInterval
  required: false
  type: 19
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: 5.0.0
    itemVersion: 1.2.45
    packID: GoogleDrive
    packName: Google Drive
    packPropagationLabels:
    - all
    prevname: ""
    propagationLabels: []
    toServerVersion: ""
description: Google Drive allows users to store files on their servers, synchronize
  files across devices, and share files. This integration helps you to create a new
  drive, query past activity, and view change logs performed by the users.
detaileddescription: "# Configure an API account on Google Drive\nConfigure a service
  account and retrieve its key in JSON format by following the steps mentioned here:
  [https://developers.google.com/identity/protocols/oauth2/service-account#creatinganaccount](https://developers.google.com/identity/protocols/oauth2/service-account#creatinganaccount).\nProvide
  at least one of the following scopes for each command.\n### Commands and their scope\n*
  ***google-drive-create*** \n\t*  https://www.googleapis.com/auth/drive \n* ***google-drive-activity-list***
  \n\t* https://www.googleapis.com/auth/drive.activity \n\t* https://www.googleapis.com/auth/drive.activity.readonly
  \n* ***google-drive-changes-list*** \n\t* https://www.googleapis.com/auth/drive
  \  \n\t* https://www.googleapis.com/auth/drive.file\n\t* https://www.googleapis.com/auth/drive.readonly\n\t*
  https://www.googleapis.com/auth/drive.metadata.readonly \n\t* https://www.googleapis.com/auth/drive.appdata\n\t*
  https://www.googleapis.com/auth/drive.metadata\n\t* https://www.googleapis.com/auth/drive.photos.readonly\n\n\n---\n[View
  Integration Documentation](https://xsoar.pan.dev/docs/reference/integrations/google-drive)"
display: Google Drive
image: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAAoCAYAAADE4WWoAAAPWklEQVR42u1bC3RT5R2/8kgC8tCBwtx0CEzdQGdJcgst1OTem2qH0AlU93Lz6HzsgU63+ZqbkaZJi6g7uk3wTBwPAYvHwVB2sC8q4HEKO24HnR4mbwpt2rRNcpO0SfPt90/v9d6EtNyCB8o5+c75zn3ku1+/7//7v/9fuYG2wio22rkkNE3yxSTJE1ko+CK3OCvColTV9Q2Hu2UUl2vnVyNARV/kNtEX3SB6o/vFCrlLrOxiUlU81UVfjIneSAz9M4xZI1XKpQ73AQuXa322/LUlY/JeW1CU9yo6rtb1C/Mdbsews7aAMjczCb7YfQDsE6kqwaSlPSkgBa/MhIpwesc7+s2FMVJVN4Nk73Z6Iwu4XMvarl9TWmDduIhZqxcx2+tlbMZrC5us1WVjubPRipYErgVYDQQWpFQPJEkpS5Nc+h3v9GO099GVs33sYi7X0lreultmAVA2Y8NCApiuR88KuM4KeS4krwWSmiaZkF4CjZ7bBW94L9TzDsET2oXn/+I5qPtd6TJzLWP07fs3Psu+xOXauQVX8MjzpMqusF5aSc3C1sZhdzdBahcVeSKXW1ew4eo3Jc8zc3F59EpI6e1Q4TWQeEXaZajyBAPwzzncLGeDzyW4AGOG5OsK6IF1kfTCfooVIafRecjWipWx/cWQWqc3XMXl2rkFF5I1CmDugWrVJDYFbKTa4W6/aMCMUt4xRfTJP+Ny7dyDi1j1MdfTLA1Y2NQ3cyHNeQ6uWBGeAEBPkK3EVY1bD82pkL/M5dr5Dm7o566nkzoHKsEc5cG7uFw738FlFwgVoXoKYVSpRXjzv+Kn2YXnauMHHA6L32W/ISDyD7eJ/PJWiV+F/kJA4n/RIVhnMI67YMC7bOAsrM5S1FNvejhRb16eqDet6mkwv9BTZ17cXT/cytjA56R0K+h1EyKJpyiehxl7Gc7o40JlvECvFaXK6BWSO3AFXWc9e2TE6YDbLOZPaJPst7aKfFWLaAM97CvbJP7JNtHmInr1scDwRIDaJipJCJJgCl3OBagNDscwv2S/GyD+Gwtn4eL8VA+hq/cAOR6Q7Nv9Ej/XEKjV3NBEg+UuAPlhT72ZsZ1K36HdA+w4emOi1nyzocxdGRsqeuV7AeTHUmU3aMYQVSSp0z0JSA/6Vmd58GpEIH+D4AQhQEGxsjso+MLFxsElRr/+IgBaAXo0BV0qPTSatEs8un1Ps8h/J0tcGykAsGmZJacntPBsA9visE8EN24J0YJdPGsR7Z93f8Z9pyu1qWSLYHt+X8lUc5/Abht1KUDbnAKy0cwAHosrPVGXfs/eMTMwAN2/cABS3qcJ8wbHCRWRN7Jl7gCkeiWg6f4QJPcwjSMau2DuKEFkFNwmh/WaVgAngyYAV6NBBk06QC+iR7NofypjsZFFWvgjk4fcQ/GuIbW0jI3H2Oed3uhyLNpQB0evQMbqCc7Nhug2MR4S+R5tQl0wbSakbSrZrjy36jYoF89kkODVzHFywj1Yy41L1JneZbs0EJP1isQ2pJ6TbHvvM1SzBvIuYgLLWraCG545Z4m7bQzoVK+PKpC0ISDpSs9JkmRK3BAt6R1UtiY4+M3plb9tBNy2YvvlAPbTkI4mRANIL+29G0B2EajU6TeiS2qswD+iAzf8YyXNqBYEYqRODMWyS2NTMF5VS4Z68TMMNj3cXFjlH01zkP1sFmzr9MCSZGJjTa2SzdPqsot+Z77VL/I3k/2F3Qm3a1xMqgkA236jXxfZz+5a0xo9sCSZkOLj8XpLRbzWIpGdJTUMQF/E+zCA1sbuxLXG9OjJSZ7Qn5FO1Ws5ygMcB5AeoTwkOH2y1VkeWgCB2YD3SQXYAYPL3NyQZtG2KazRRAGV/zBltopt01uLrdcAyDIA3fg5wFKKAWLNTluhGt9+PwPcuKMiNN0IuMg/T8Z4WSkaGOq0YfzNFsey4HiaA4u6icDya8CStO44UcxfyWVpbYK9AL8fVAHGPXFtu3587G1zcc92cxLAacDWmXaxWsvkbHPGa4fNgj0+oAKMe5LmjlideYqWdQsWir6uOGikAeuNvCeUx6Zkj0CiP4SWimLMAMHVaKIHFntcs68kfwyXpUF7beoEwOpYOFz1rKxsKHlzLixaIz7u6Z1hyfWGqTgA6e27gxB6NUbeeDMP26VsZIuqegIpoPiDflfeZf3bZ+tsgBpRGYKkXm9vIJGb2A5FFTekgDrE6kZ8pb8549tGFABUWWWIlNTXWco1qQ2vh+ZR94AeOSZ42r/WfxpWfhwq+jTA5TeqNCGpxD7fPzJr1ojM+UMleZe0CfxPAPyegMoMKh0FXuAcvs6p+MMRcKTmLXvCjxoBl0p5UFW/hVpy46rvT6b38BoQRA21SHL3f/VBNoKJ0ye0SHyA1EmLYjNOiPb7OQOtGeGAngC4fsAQ1oVruQnxGktbsl4BCSB315h/aWTO7hrTSpUpWGPquoe8bd7LxpEpUffg6tV0j5xqPhRUyEYfwp4NgTt+8/zRzGodi70cUx0oSCTR5LY0SUU4CPP0HAThaKjXuVRtMpkpSC/fAfV9D0fVHSz8P/Do9N7yDs7tHvLFpTaDdypcr0ixvIvetwt5RdiE3iOOtDhmTDUy5wnJVqq3NS2CPXBo7NyL2S5SsWkecTRWa77KyJyxbeZ5yUZNNePazl7hJs5cwvJV9UpCkDqJ4g1902D2bxWYwRC43O57RgaKrNdiTwmih8L0nUGRH9fimDaK4lz0f+B9V1hxNv2KKgYt6Pkj5AYeb5bsk/ULWKp5gDJJVxyVncIvsNq0EXZd1QyQ3NByek8OQdClqWQs9JC/sHC0McmdcZ1KhFTHho9PckxK7Bw6HzaWgFG94iNsKzfGyJxd20zTMT4OplAZo5u9zl1jc7P5WpIn5TM0odBiqJhCkQFoawxcdoel3YnkjaQyLU/mphWO1FKo3k9Iiskn8Sv0IoAhvRH89vdWF38Lm2cdebJkLQl/C4uOac5Cgq61ZdVs6JlXm9ongevb4UGqcxO4t2YDt3kA4AYkcPjZAvf3rFShiRryHJMqmaFUIZmt0wVX1WikeumdGuMTzRA5HMC7yhOgg5FFrM/ML0OdPnbGKtkT/gvUkkYYb/i4w93rKVOKUa+WAZCM9OIUA9PiW9v8bGo53jisQK+W0SOwn183MieFRtnUst3NKNGjiyjkqNFwEVrxZZgkw2o5VGifBlrEMxI3anYuAUDrYVt/1DF3tvGjS8i8XIXYLKA6DWRjyPWHlN1zBtWmB2DLk6Tq1XjY6dGK94fhFWPx7apDFSSHSrAuNqaW7X/VO1QAdzc5VAwOVaI2w6GqNT9gDFzTy3qHCo7Yv8ihKnCzS7H+VtGrc6g84VM6aZSfh9B8NiCHatq0UdjTYZXpW9FhZ9tx/WOblD/z9G1jefBusi2qeiZulZAnBdA+KuYbnWeeu2kkfYPTGEnVEQHINO8Rx9LwRP1YxGRvBtNDoQP+OdZ+S40UpAdcvKwPhfy6UCheZ96sD4UghQfZ2yO18KrvWFfu0YdCNRaPlqYNvaFpoBgx/0GX23/ZKbTWQ1LVwEMhigQgqbo4nj9KWTyun0bquUPK9x2F89Xfgp7pVc+yqobUI60fCr7oHXO8oUv6Do06LhYrIt8FU3yAb+hbLS6shBbwBEszv0F+uOSkJAayLk1CXtYYkriX7I0+iYFvOzqQxNCBW5zMTGLUm3ewBsukrCHQtuH5yCvv1ycx8G2nPolBGSicLUNqVueX+CKNVOlRx2SmdUGzMK6nAS4/C4we19MEkltHlaE+KkbXgSYfdd04k+jxsV+yzqUiTNaKBxbyBwTfBErawmhDWOwxgLYZ4YCXOJM63WPTb1CBH4fpaKwuaRGj5wSI89NsC6P0IzawPjP9SNzqF2xPIqCfQ85Ts8TfSKoJdieUkX7U8qn69GON6dXM9CNAO9pTZ3LHUfpjNaZriQmoUADgQxnpR1xNj51cZAm+ossrK/SIHkbO/HcOT3A2zNB1VBgAPVaBdnH0gacfNbOzArnzjJQsv69ZsP8avaCXJnYJDLAM7wNkmpqVuBiMkaQx/djgyP2QtmBvCCOnZZhoU5DutN7LDLH0zfRWTjpgn27n+mlBqBwA989shQOyOeRgBNRnKb1wgA2tzVY4YCgcxOtM7+kBhoomG6w6S3GmPesLB7C1lnVsNzc8m2aCOt6pA1g5iJ9UHa049kv7PuPCAcAbiz2+o6eJSgO/QpPPaaTaZ5XZkeBAMmS4gdOQsbdokbA3tFADueMIAa3+m0mdc0mHlTPQDsLOYrFvpUp+0qlLfrRRKuBnK1RrAF84AYBtIQD1kpnoo+QHVU6//Yn1U/IrdocuBZBvgaEzSn4yAM4s+ckH8XwQ9MsOLoH62iJm3VgGcBccyyz5HZ+TdwmYebNGk+wlPzWRgTFx8j2gDYcMwOuNuQDsenBti744DQ6lrhapFUCjHcQQdLx1oHHybnCbX+Dvg7O0F+BphWmXVpxuo3CACgtO23yDJzCGwVu+F9K5F5KrFeq1Yj2B25NoMO9M1JhKjcxJWT3UdBdjn/uwZ4UePdRT9wQmftvmrIpdDa21DWNUcAnwktQcq0vzAWx4xoZFYWv1QhmSuy9/6w/GZD3AINruzUaTsEaTOGxuHalp7nQbebpCZawER0oeFSqiLwLsdYhb14leeTllYug//hy+6CTuDFsTMi1U6gPXPgHOfAXcuAHhwAps4KFWwcZTSWygc7It3EjWaBFgc5/AEZuViXrLBoD6EhypX6H8l1+NkGegc0qVgbFOb2w+6OGDxlqL62rJF3ULldEiGP4LlPzBLn12SyoPOej91K0lZvurCyfz1WVX0hVSewWlfPulCcAjmqCvBE3Wo68AsA/6XbyNo6NHuXb2GoWEcDj36/55rjuVk861wdfcOD3i9IZuQESwWvB0fu9U4+FdF1CeXsnXE7iHUocUcm1wNSQxiqBe36UTFsXLGDmOhyV3x+R+OGEI7O0WNYmhpCDXc7k2+JrD02HTxa6q87iXqmdZD/l7oy+lHVKgQ3LlnTdxuTY4m1bhkVXvlyS4C89bBY9cTgcT4GCuhqN5RJ92pG9IilPRQ64Nzob8+jCqchFY+uK9ltRhFBrqM3ukjokBPk0dycm1wQ8w0otLUDGLAlANSH0H8FDJSuYqup2OMnG5dv400SfbAewqSGVTr/TGqaspx054x42Iee8sWbzPzOXa+dno4AFCo5moGJVSEsfljd4geKKDQgX/H1WJf/KM9eG7AAAAAElFTkSuQmCC
name: GoogleDrive
script:
  commands:
  - arguments:
    - description: The user's primary email address.
      name: user_id
    - description: The name of this shared drive.
      name: name
      required: true
    - auto: PREDEFINED
      description: Whether the shared drive is hidden from the default view.
      name: hidden
      predefined:
      - "True"
      - "False"
    deprecated: true
    description: Deprecated. Use the 'google-drive-drive-create' command instead.
    name: google-drive-create
    outputs:
    - contextPath: GoogleDrive.Drive.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.Drive.id
      description: The ID of the shared drive which is also the ID of the top level
        folder of the shared drive.
      type: String
    - contextPath: GoogleDrive.Drive.name
      description: The name of the shared drive.
      type: String
    - contextPath: GoogleDrive.Drive.hidden
      description: Whether the shared drive is hidden from the default view.
      type: Boolean
  - arguments:
    - description: The user's primary email address.
      name: user_id
    - description: The name of this shared drive.
      name: name
      required: true
    - auto: PREDEFINED
      description: Whether the shared drive is hidden from the default view.
      name: hidden
      predefined:
      - "True"
      - "False"
    description: |-
      Creates a new Team Drive. The name argument specifies the name of the Team Drive. The specified user will be the first organizer.
      This shared drive/team drive feature is available only with G Suite Enterprise, Enterprise for Education, G Suite Essentials, Business, Education, and Nonprofits edition.
    name: google-drive-drive-create
    outputs:
    - contextPath: GoogleDrive.Drive.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.Drive.id
      description: The ID of the shared drive which is also the ID of the top level
        folder of the shared drive.
      type: String
    - contextPath: GoogleDrive.Drive.name
      description: The name of the shared drive.
      type: String
    - contextPath: GoogleDrive.Drive.hidden
      description: Whether the shared drive is hidden from the default view.
      type: Boolean
  - arguments:
    - description: The token for continuing a previous list request on the next page.
      name: page_token
      required: true
    - description: The user's primary email address.
      name: user_id
    - description: The shared drive from which changes are returned. Can be retrieved
        using the `google-drive-drives-list` command.
      name: drive_id
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether changes should include the file resource if the file is
        still accessible by the user at the time of the request, even when a file
        was removed from the list of changes and there will be no further change entries
        for this file.
      name: include_corpus_removals
      predefined:
      - "true"
      - "false"
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether both My Drive and shared drive items should be included
        in the results.
      name: include_items_from_all_drives
      predefined:
      - "true"
      - "false"
    - description: Specifies which additional view's permissions to include in the
        response. Only 'published' is supported.
      name: include_permissions_for_view
    - auto: PREDEFINED
      defaultValue: "true"
      description: Whether to include changes indicating that items have been removed
        from the list of changes, for example by deletion or loss of access.
      name: include_removed
      predefined:
      - "true"
      - "false"
    - defaultValue: "100"
      description: The maximum number of changes to return per page. Acceptable values
        are 1 to 1000, inclusive.
      name: page_size
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether to restrict the results to changes inside the My Drive
        hierarchy. This omits changes to files such as those in the Application Data
        folder or shared files which have not been added to My Drive.
      name: restrict_to_my_drive
      predefined:
      - "true"
      - "false"
    - description: A comma-separated list of spaces to query within the user corpus.
        Possible values are 'drive', 'appDataFolder', and 'photos'.
      name: spaces
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether the requesting application supports both My Drives and
        shared drives.
      name: supports_all_drives
      predefined:
      - "true"
      - "false"
    - auto: PREDEFINED
      defaultValue: basic
      description: 'The paths of the fields you want to include in the response. Possible
        values are: "basic" (the response will include a default set of fields specific
        to this method) and "advance" (you can use the value * to return all the fields).'
      name: fields
      predefined:
      - basic
      - advance
    description: Lists the changes for a user or shared drive.
    name: google-drive-changes-list
    outputs:
    - contextPath: GoogleDrive.PageToken.DriveChange.nextPageToken
      description: The page token for the next page of changes.
      type: String
    - contextPath: GoogleDrive.PageToken.DriveChange.newStartPageToken
      description: The starting page token for future changes.
      type: String
    - contextPath: GoogleDrive.PageToken.DriveChange.driveId
      description: The ID of the shared drive associated with this change.
      type: String
    - contextPath: GoogleDrive.PageToken.DriveChange.userId
      description: The user's primary email address.
      type: String
    - contextPath: GoogleDrive.DriveChange.userId
      description: The user's primary email address.
      type: String
    - contextPath: GoogleDrive.DriveChange.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.changeType
      description: The type of the change. Possible values are "file" and "drive".
      type: String
    - contextPath: GoogleDrive.DriveChange.time
      description: The time of this change (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.DriveChange.removed
      description: Whether the file or shared drive has been removed from this list
        of changes, for example by deletion or loss of access.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.fileId
      description: The ID of the file which has changed.
      type: String
    - contextPath: GoogleDrive.DriveChange.driveId
      description: The ID of the shared drive associated with this change.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.id
      description: The ID of the file.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.name
      description: The name of the file.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.mimeType
      description: The MIME type of the file.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.description
      description: A short description of the file.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.starred
      description: Whether the user has starred the file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.trashed
      description: Whether the file has been trashed, either explicitly or from a
        trashed parent folder. Only the owner may trash a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.explicitlyTrashed
      description: Whether the file has been explicitly trashed, as opposed to recursively
        trashed from a parent folder.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.trashingUser.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.trashingUser.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.trashingUser.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.trashingUser.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.trashingUser.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.trashingUser.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.trashedTime
      description: The time that the item was trashed (RFC 3339 date-time). Only populated
        for items in shared drives.
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.parents
      description: The IDs of the parent folders which contain the file.
      type: Unknown
    - contextPath: GoogleDrive.DriveChange.file.properties
      description: A collection of arbitrary key-value pairs which are visible to
        all apps.
      type: Unknown
    - contextPath: GoogleDrive.DriveChange.file.appProperties
      description: A collection of arbitrary key-value pairs which are private to
        the requesting app.
      type: Unknown
    - contextPath: GoogleDrive.DriveChange.file.spaces
      description: The list of spaces which contain the file. The currently supported
        values are 'drive', 'appDataFolder' and 'photos'.
      type: Unknown
    - contextPath: GoogleDrive.DriveChange.file.version
      description: A monotonically increasing version number for the file. This reflects
        every change made to the file on the server, even those not visible to the
        user.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.webContentLink
      description: A link for downloading the content of the file in a browser. This
        is only available for files with binary content in Google Drive.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.webViewLink
      description: A link for opening the file in a relevant Google editor or viewer
        in a browser.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.iconLink
      description: A static, unauthenticated link to the file's icon.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.hasThumbnail
      description: Whether this file has a thumbnail.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.thumbnailLink
      description: A short-lived link to the file's thumbnail, if available.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.thumbnailVersion
      description: The thumbnail version for use in thumbnail cache invalidation.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.viewedByMe
      description: Whether the file has been viewed by this user.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.viewedByMeTime
      description: The last time the file was viewed by the user (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.createdTime
      description: The time at which the file was created (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.modifiedTime
      description: The last time the file was modified by anyone (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.modifiedByMeTime
      description: The last time the file was modified by the user (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.modifiedByMe
      description: Whether the file has been modified by the user.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.sharedWithMeTime
      description: The time at which the file was shared with the user, if applicable
        (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.sharingUser.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.sharingUser.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.sharingUser.photoLink
      description: A link to the user's profile photo, if available.
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.sharingUser.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.sharingUser.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.sharingUser.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.owners.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.owners.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.owners.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.owners.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.owners.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.owners.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.driveId
      description: ID of the shared drive the file resides in. Only populated for
        items in shared drives.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.lastModifyingUser.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.lastModifyingUser.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.lastModifyingUser.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.lastModifyingUser.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.lastModifyingUser.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.lastModifyingUser.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.shared
      description: Whether the file has been shared. Not populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.ownedByMe
      description: Whether the user owns the file. Not populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canAddChildren
      description: Whether the current user can add children to this folder. This
        is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canAddFolderFromAnotherDrive
      description: Whether the current user can add a folder from another drive (different
        shared drive or My Drive) to this folder.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canAddMyDriveParent
      description: Whether the current user can add a parent for the item without
        removing an existing parent in the same request. Not populated for shared
        drive files.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canChangeCopyRequiresWriterPermission
      description: Whether the current user can change the 'copy requires writer permission'
        restriction of this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canComment
      description: Whether the current user can comment on this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canCopy
      description: Whether the current user can copy this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canDelete
      description: Whether the current user can delete this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canDeleteChildren
      description: Whether the current user can delete children of this folder. This
        is false when the item is not a folder. Only populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canDownload
      description: Whether the current user can download this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canEdit
      description: Whether the current user can edit this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canListChildren
      description: Whether the current user can list the children of this folder.
        This is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canModifyContent
      description: Whether the current user can modify the content of this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canModifyContentRestriction
      description: Whether the current user can modify restrictions on content of
        this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canMoveChildrenOutOfDrive
      description: Whether the current user can move children of this folder outside
        of the shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canMoveChildrenWithinDrive
      description: Whether the current user can move children of this folder within
        this drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canMoveItemOutOfDrive
      description: Whether the current user can move this item outside of this drive
        by changing its parent.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canMoveItemWithinDrive
      description: Whether the current user can move this item within this drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canReadRevisions
      description: Whether the current user can read the revisions resource of this
        file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canReadDrive
      description: Whether the current user can read the shared drive to which this
        file belongs. Only populated for items in shared drives.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canRemoveChildren
      description: Whether the current user can remove children from this folder.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canRemoveMyDriveParent
      description: Whether the current user can remove a parent from the item without
        adding another parent in the same request. Not populated for shared drive
        files.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canRename
      description: Whether the current user can rename this file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canShare
      description: Whether the current user can modify the sharing settings for this
        file.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canTrash
      description: Whether the current user can move this file to trash.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canTrashChildren
      description: Whether the current user can trash children of this folder. This
        is false when the item is not a folder. Only populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.capabilities.canUntrash
      description: Whether the current user can restore this file from trash.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.copyRequiresWriterPermission
      description: Whether the options to copy, print, or download this file, should
        be disabled for readers and commenters.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.writersCanShare
      description: Whether users with only writer permission can modify the file's
        permissions. Not populated for items in shared drives.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.permissions.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.id
      description: The ID of this permission.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.type
      description: The type of the grantee.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.emailAddress
      description: The email address of the user or group to which this permission
        refers.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.domain
      description: The domain to which this permission refers.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.role
      description: The role granted by this permission.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.view
      description: Indicates the view for this permission.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.allowFileDiscovery
      description: Whether the permission allows the file to be discovered through
        search.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.permissions.displayName
      description: The "pretty" name of the value of the permission.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.expirationTime
      description: The time at which this permission will expire (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.permissions.permissionDetails.permissionType
      description: The permission type for this user.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.permissionDetails.role
      description: The primary role for this user.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.permissionDetails.inheritedFrom
      description: The ID of the item from which this permission is inherited.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.permissions.permissionDetails.inherited
      description: Whether this permission is inherited.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.permissions.deleted
      description: Whether the account associated with this permission has been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.permissionIds
      description: List of permission IDs for users with access to this file.
      type: Unknown
    - contextPath: GoogleDrive.DriveChange.file.hasAugmentedPermissions
      description: Whether there are permissions directly on this file. This field
        is only populated for items in shared drives.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.folderColorRgb
      description: The color for a folder as an RGB hex string.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.originalFilename
      description: The original filename of the uploaded content if available, or
        else the original value of the name field. This is only available for files
        with binary content in Google Drive.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.fullFileExtension
      description: The full file extension extracted from the name field.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.fileExtension
      description: The final component of fullFileExtension. This is only available
        for files with binary content in Google Drive.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.md5Checksum
      description: The MD5 checksum for the content of the file. This is only applicable
        to files with binary content in Google Drive.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.size
      description: The size of the file's content in bytes. This is only applicable
        to files with binary content in Google Drive.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.quotaBytesUsed
      description: The number of storage quota bytes used by the file. This includes
        the head revision as well as previous revisions with keepForever enabled.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.headRevisionId
      description: The ID of the file's head revision. This is currently only available
        for files with binary content in Google Drive.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentHints.thumbnail.image
      description: The thumbnail data encoded with URL-safe Base64 (RFC 4648 section
        5).
      type: Unknown
    - contextPath: GoogleDrive.DriveChange.file.contentHints.thumbnail.mimeType
      description: The MIME type of the thumbnail.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentHints.indexableText
      description: Text to be indexed for the file to improve fullText queries. This
        is limited to 128KB in length and may contain HTML elements.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.width
      description: The width of the image in pixels.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.height
      description: The height of the image in pixels.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.rotation
      description: The number of clockwise 90 degree rotations applied from the image's
        original orientation.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.location.latitude
      description: The latitude stored in the image.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.location.longitude
      description: The longitude stored in the image.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.location.altitude
      description: The altitude stored in the image.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.time
      description: The date and time the photo was taken (EXIF DateTime).
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.cameraMake
      description: The make of the camera used to create the photo.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.cameraModel
      description: The model of the camera used to create the photo.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.exposureTime
      description: The length of the exposure, in seconds.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.aperture
      description: The aperture used to create the photo (f-number).
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.flashUsed
      description: Whether a flash was used to create the photo.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.focalLength
      description: The focal length used to create the photo, in millimeters.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.isoSpeed
      description: The ISO speed used to create the photo.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.meteringMode
      description: The metering mode used to create the photo.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.sensor
      description: The type of sensor used to create the photo.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.exposureMode
      description: The exposure mode used to create the photo.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.colorSpace
      description: The color space of the photo.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.whiteBalance
      description: The white balance mode used to create the photo.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.exposureBias
      description: The exposure bias of the photo (APEX value).
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.maxApertureValue
      description: The smallest f-number of the lens at the focal length used to create
        the photo (APEX value).
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.subjectDistance
      description: The distance to the subject of the photo, in meters.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.imageMediaMetadata.lens
      description: The lens used to create the photo.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.videoMediaMetadata.width
      description: The width of the video in pixels.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.videoMediaMetadata.height
      description: The height of the video in pixels.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.videoMediaMetadata.durationMillis
      description: The duration of the video in milliseconds.
      type: Number
    - contextPath: GoogleDrive.DriveChange.file.isAppAuthorized
      description: Whether the file was created or opened by the requesting app.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.exportLinks
      description: Links for exporting Google Docs to specific formats.
      type: Unknown
    - contextPath: GoogleDrive.DriveChange.file.shortcutDetails.targetId
      description: The ID of the file that this shortcut points to.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.shortcutDetails.targetMimeType
      description: The MIME type of the file that this shortcut points to. The value
        of this field is a snapshot of the target's MIME type, captured when the shortcut
        is created.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.readOnly
      description: Whether the content of the file is read-only.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.reason
      description: Reason for why the content of the file is restricted. This is only
        mutable on requests that also set readOnly=true.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.restrictingUser.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.restrictingUser.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.restrictingUser.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.restrictingUser.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.restrictingUser.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.restrictingUser.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.restrictionTime
      description: The time at which the content restriction was set (formatted RFC
        3339 timestamp). Only populated if readOnly is true.
      type: Date
    - contextPath: GoogleDrive.DriveChange.file.contentRestrictions.type
      description: The type of the content restriction. Currently the only possible
        value is globalContentRestriction.
      type: String
    - contextPath: GoogleDrive.DriveChange.drive.kind
      description: Identifies what kind of resource this is.
      type: String
    - contextPath: GoogleDrive.DriveChange.drive.id
      description: The ID of this shared drive which is also the ID of the top level
        folder of this shared drive.
      type: String
    - contextPath: GoogleDrive.DriveChange.drive.name
      description: The name of this shared drive.
      type: String
    - contextPath: GoogleDrive.DriveChange.drive.themeId
      description: The ID of the theme from which the background image and color will
        be set.
      type: String
    - contextPath: GoogleDrive.DriveChange.drive.colorRgb
      description: The color of this shared drive as an RGB hex string. It can only
        be set on a drive.drives.update request that does not set themeId.
      type: String
    - contextPath: GoogleDrive.DriveChange.drive.backgroundImageFile.id
      description: The ID of an image file in Google Drive to use for the background
        image.
      type: String
    - contextPath: GoogleDrive.DriveChange.drive.backgroundImageFile.xCoordinate
      description: The X coordinate of the upper left corner of the cropping area
        in the background image.
      type: Number
    - contextPath: GoogleDrive.DriveChange.drive.backgroundImageFile.yCoordinate
      description: The Y coordinate of the upper left corner of the cropping area
        in the background image.
      type: Number
    - contextPath: GoogleDrive.DriveChange.drive.backgroundImageFile.width
      description: The width of the cropped image in the closed range of 0 to 1.
      type: Number
    - contextPath: GoogleDrive.DriveChange.drive.backgroundImageLink
      description: A short-lived link to this shared drive's background image.
      type: String
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canAddChildren
      description: Whether the current user can add children to folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canChangeCopyRequiresWriterPermissionRestriction
      description: Whether the current user can change the 'copy requires writer permission'
        restriction of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canChangeDomainUsersOnlyRestriction
      description: Whether the current user can change the 'domain users only' restriction
        of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canChangeDriveBackground
      description: Whether the current user can change the background of this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canChangeDriveMembersOnlyRestriction
      description: Whether the current user can change the 'drive members only' restriction
        of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canComment
      description: Whether the current user can comment on files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canCopy
      description: Whether the current user can copy files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canDeleteChildren
      description: Whether the current user can delete children from folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canDeleteDrive
      description: Whether the current user can delete this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canDownload
      description: Whether the current user can download files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canEdit
      description: Whether the current user can edit files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canListChildren
      description: Whether the current user can list the children of folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canManageMembers
      description: Whether the current user can add members to this shared drive or
        remove them or change their role.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canReadRevisions
      description: Whether the current user can read the revisions resource of files
        in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canRename
      description: Whether the current user can rename files or folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canRenameDrive
      description: Whether the current user can rename this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canShare
      description: Whether the current user can share files or folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.capabilities.canTrashChildren
      description: Whether the current user can trash children from folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.createdTime
      description: The time at which the shared drive was created (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.DriveChange.drive.hidden
      description: Whether the shared drive is hidden from the default view.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.restrictions.adminManagedRestrictions
      description: Whether administrative privileges on this shared drive are required
        to modify restrictions.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.restrictions.copyRequiresWriterPermission
      description: Whether the options to copy, print, or download files inside this
        shared drive, should be disabled for readers and commenters.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.restrictions.domainUsersOnly
      description: Whether access to this shared drive and items inside this shared
        drive is restricted to users of the domain to which this shared drive belongs.
      type: Boolean
    - contextPath: GoogleDrive.DriveChange.drive.restrictions.driveMembersOnly
      description: Whether access to items inside this shared drive is restricted
        to its members.
      type: Boolean
  - arguments:
    - description: The user's primary email address.
      name: user_id
    - description: Return activities for this drive folder and all children and descendants.
        The format is "items/ITEM_ID".
      name: folder_name
    - description: Return activities for this drive item. The format is "items/ITEM_ID".
      name: item_name
    - description: |-
        The filtering for items returned from this query request. The format of the filter string is a sequence of expressions, joined by an optional "AND", where each expression is of the form "field operator value".

        Supported fields:
        time - Uses numerical operators on date values either in terms of milliseconds since Jan 1, 1970 or in RFC 3339 format.
        Examples:
        time > 1452409200000 AND time <= 1492812924310
        time >= "2016-01-10T01:02:03-05:00"

        detail.action_detail_case - Uses the "has" operator (:) and either a singular value or a list of allowed action types enclosed in parentheses.
        Examples:
        detail.action_detail_case: RENAME
        detail.action_detail_case:(CREATE EDIT)
        -detail.action_detail_case:MOVE".
      name: filter
    - description: |-
        The time range to consider for getting drive activity. Use the format "<number> <time unit>".
        Example: 12 hours, 7 days, 3 months, 1 year. This argument will override if the filter argument is given.
      name: time_range
    - description: |-
        A singular value or a list of allowed action types enclosed in parentheses. The filters are based on given actions. For example:
        RENAME
        (CREATE EDIT)
        This argument will override if the filter argument is given.
      name: action_detail_case_include
    - description: |-
        A singular value or a list of allowed action types enclosed in parentheses. The filters are based on given actions. For example:
        RENAME
        (CREATE EDIT)
        This argument will override if the filter argument is given.
      name: action_detail_case_remove
    - description: The token identifying which page of results to return. Set this
        to the nextPageToken value returned from a previous query to obtain the following
        page of results. If not set, the first page of results will be returned.
      name: page_token
    description: Query past activity in Google Drive.
    name: google-drive-activity-list
    outputs:
    - contextPath: GoogleDrive.PageToken.DriveActivity.nextPageToken
      description: Token to retrieve the next page of results, or empty if there are
        no more results in the list.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.create.new
      description: If true, the object was newly created.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.create.upload
      description: If true, the object originated externally and was uploaded to Drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.create.copy.originalObject.driveItem.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.create.copy.originalObject.driveItem.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.create.copy.originalObject.driveItem.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.create.copy.originalObject.driveItem.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.create.copy.originalObject.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.create.copy.originalObject.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.edit
      description: If true, the object was edited.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.addedParents.driveItem.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.addedParents.driveItem.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.addedParents.driveItem.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.addedParents.driveItem.driveFolder.type
      description: The type of a Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.addedParents.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.addedParents.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.removedParents.driveItem.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.removedParents.driveItem.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.removedParents.driveItem.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.removedParents.driveItem.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.removedParents.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.move.removedParents.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.rename.oldTitle
      description: The previous title of the drive object.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.rename.newTitle
      description: The new title of the drive object.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.delete.type
      description: The type of delete action taken.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.restore.type
      description: The type of restore action taken.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.role
      description: Indicates the Google Drive permissions role.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.allowDiscovery
      description: If true, the item can be discovered (e.g., in the user's "Shared
        with me" collection) without needing a link to the item.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.group.email
      description: The email address of the group.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.group.title
      description: The title of the group.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.addedPermissions.anyone
      description: If true, represents any user (including a logged out user).
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.role
      description: Indicates the Google Drive permissions role.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.allowDiscovery
      description: If true, the item can be discovered (e.g., in the user's "Shared
        with me" collection) without needing a link to the item.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.group.email
      description: The email address of the group.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.group.title
      description: The title of the group.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.permissionChange.removedPermissions.anyone
      description: If true, represents any user (including a logged out user).
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.mentionedUsers.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.mentionedUsers.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.mentionedUsers.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.mentionedUsers.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.post.subtype
      description: The sub-type of post event.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.assignment.subtype
      description: The sub-type of assignment event.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.assignment.assignedUser.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.assignment.assignedUser.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.assignment.assignedUser.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.assignment.assignedUser.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.comment.suggestion.subtype
      description: The sub-type of suggestion event.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.dlpChange.type
      description: The type of Data Leak Prevention (DLP) change.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.reference.type
      description: The reference type corresponding to this event.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.settingsChange.restrictionChanges.feature
      description: The feature which had a change in restriction policy.
      type: String
    - contextPath: GoogleDrive.DriveActivity.primaryActionDetail.settingsChange.restrictionChanges.newRestriction
      description: The restriction in place after the change.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actors.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actors.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actors.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actors.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actors.anonymous
      description: If true, the user is an anonymous user.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actors.impersonation.impersonatedUser.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actors.impersonation.impersonatedUser.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actors.impersonation.impersonatedUser.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actors.impersonation.impersonatedUser.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actors.system.type
      description: The type of the system event that may triggered activity.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actors.administrator
      description: If true, the user is an administrator.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.create.new
      description: If true, the object was newly created.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.create.upload
      description: If true, the object originated externally and was uploaded to Drive.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.create.copy.originalObject.driveItem.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.create.copy.originalObject.driveItem.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.create.copy.originalObject.driveItem.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.create.copy.originalObject.driveItem.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.create.copy.originalObject.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.create.copy.originalObject.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.edit
      description: If true, the object was edited.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.addedParents.driveItem.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.addedParents.driveItem.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.addedParents.driveItem.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.addedParents.driveItem.driveFolder.type
      description: The type of a Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.addedParents.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.addedParents.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.removedParents.driveItem.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.removedParents.driveItem.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.removedParents.driveItem.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.removedParents.driveItem.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.removedParents.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.move.removedParents.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.rename.oldTitle
      description: The previous title of the drive object.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.rename.newTitle
      description: The new title of the drive object.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.delete.type
      description: The type of delete action taken.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.restore.type
      description: The type of restore action taken.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.role
      description: Indicates the Google Drive permissions role.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.allowDiscovery
      description: If true, the item can be discovered (e.g., in the user's "Shared
        with me" collection) without needing a link to the item.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.group.email
      description: The email address of the group.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.group.title
      description: The title of the group.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.addedPermissions.anyone
      description: If true, represents any user (including a logged out user).
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.role
      description: Indicates the Google Drive permissions role.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.allowDiscovery
      description: If true, the item can be discovered (e.g., in the user's "Shared
        with me" collection) without needing a link to the item.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.group.email
      description: The email address of the group.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.group.title
      description: The title of the group.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.permissionChange.removedPermissions.anyone
      description: If true, represents any user (including a logged out user).
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.mentionedUsers.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.mentionedUsers.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.mentionedUsers.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.mentionedUsers.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.post.subtype
      description: The sub-type of post event.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.assignment.subtype
      description: The sub-type of assignment event.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.assignment.assignedUser.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.assignment.assignedUser.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.assignment.assignedUser.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.assignment.assignedUser.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.detail.comment.suggestion.subtype
      description: The sub-type of suggestion event.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.dlpChange.type
      description: The type of Data Leak Prevention (DLP) change.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.reference.type
      description: The reference type corresponding to this event.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.settingsChange.restrictionChanges.feature
      description: The feature which had a change in restriction policy.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.detail.settingsChange.restrictionChanges.newRestriction
      description: The restriction in place after the change.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.actor.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.actor.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.actor.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.actor.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.actor.anonymous
      description: If true, the user is an anonymous user.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.actor.impersonation.impersonatedUser.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.actor.impersonation.impersonatedUser.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.actor.impersonation.impersonatedUser.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.actor.impersonation.impersonatedUser.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.actor.system.type
      description: The type of the system event that may triggered activity.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.actor.administrator
      description: If true, the user is an administrator.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.mimeType
      description: The MIME type of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.owner.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.owner.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.owner.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.owner.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.owner.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.owner.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.owner.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.owner.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.driveItem.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.mimeType
      description: The MIME type of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.owner.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.owner.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.owner.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.owner.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.owner.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.owner.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.owner.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.owner.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.drive.root.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.legacyCommentId
      description: The comment in the discussion thread.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.legacyDiscussionId
      description: The discussion thread to which the comment was added.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.linkToDiscussion
      description: The link to the discussion thread containing this comment, for
        example, "https://docs.google.com/DOCUMENT_ID/edit?disco=THREAD_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.mimeType
      description: The MIME type of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.owner.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.owner.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.owner.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.owner.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.owner.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.owner.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.owner.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.owner.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.actions.target.fileComment.parent.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.timestamp
      description: The activity occurred at this specific time.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.timeRange.startTime
      description: The start of the time range.
      type: String
    - contextPath: GoogleDrive.DriveActivity.actions.timeRange.endTime
      description: The end of the time range.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.mimeType
      description: The MIME type of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.owner.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.owner.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.owner.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.owner.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.owner.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.owner.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.owner.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.owner.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.driveItem.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.mimeType
      description: The MIME type of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.owner.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.owner.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.owner.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.owner.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.owner.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.owner.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.owner.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.owner.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.drive.root.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.legacyCommentId
      description: The comment in the discussion thread.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.legacyDiscussionId
      description: The discussion thread to which the comment was added.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.linkToDiscussion
      description: The link to the discussion thread containing this comment, for
        example, "https://docs.google.com/DOCUMENT_ID/edit?disco=THREAD_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.name
      description: The target Drive item. The format is "items/ITEM_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.title
      description: The title of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.mimeType
      description: The MIME type of the Drive item.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.owner.domain.name
      description: The name of the domain, e.g., "google.com".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.owner.domain.legacyId
      description: An opaque string used to identify this domain.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.owner.user.knownUser.personName
      description: The identifier for this user that can be used with the People API
        to get more information. The format is "people/ACCOUNT_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.owner.user.knownUser.isCurrentUser
      description: True if this is the user making the request.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.owner.user.deletedUser
      description: If true, a user whose account has since been deleted.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.owner.user.unknownUser
      description: If true, a user about whom nothing is currently known.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.owner.drive.name
      description: The resource name of the shared drive. The format is "COLLECTION_ID/DRIVE_ID".
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.owner.drive.title
      description: The title of the shared drive.
      type: String
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.driveFile
      description: If true, the Drive item is a file.
      type: Boolean
    - contextPath: GoogleDrive.DriveActivity.targets.fileComment.parent.driveFolder.type
      description: The type of Drive folder.
      type: String
    - contextPath: GoogleDrive.DriveActivity.timestamp
      description: The activity occurred at this specific time.
      type: String
    - contextPath: GoogleDrive.DriveActivity.timeRange.startTime
      description: The start of the time range.
      type: String
    - contextPath: GoogleDrive.DriveActivity.timeRange.endTime
      description: The end of the time range.
      type: String
  - arguments:
    - defaultValue: "100"
      description: Maximum number of shared drives to return. Acceptable values are
        1 to 100, inclusive.
      name: page_size
    - description: Page token for shared drives.
      name: page_token
    - description: Query string for searching shared drives.
      name: query
    - auto: PREDEFINED
      defaultValue: "false"
      description: Issue the request as a domain administrator. If set to true, all
        shared drives of the domain in which the requester is an administrator are
        returned.
      name: use_domain_admin_access
      predefined:
      - "true"
      - "false"
    - description: The user's primary email address.
      name: user_id
    description: Lists the user's shared drives.
    name: google-drive-drives-list
    outputs:
    - contextPath: GoogleDrive.Drive.Drive.id
      description: The ID of this shared drive which is also the ID of the top level
        folder of this shared drive.
      type: String
    - contextPath: GoogleDrive.Drive.Drive.name
      description: The name of this shared drive.
      type: String
    - contextPath: GoogleDrive.Drive.Drive.colorRgb
      description: The color of this shared drive as an RGB hex string.
      type: String
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canAddChildren
      description: Whether the current user can add children to folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canChangeCopyRequiresWriterPermissionRestriction
      description: Whether the current user can change the 'copy requires writer permission'
        restriction of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canChangeDomainUsersOnlyRestriction
      description: Whether the current user can change the 'domain users only' restriction
        of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canChangeDriveBackground
      description: Whether the current user can change the background of this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canChangeDriveMembersOnlyRestriction
      description: Whether the current user can change the 'drive members only' restriction
        of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canComment
      description: Whether the current user can comment on files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canCopy
      description: Whether the current user can copy files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canDeleteChildren
      description: Whether the current user can delete children from folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canDeleteDrive
      description: Whether the current user can delete this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canDownload
      description: Whether the current user can download files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canEdit
      description: Whether the current user can edit files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canListChildren
      description: Whether the current user can list the children of folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canManageMembers
      description: Whether the current user can add members to this shared drive or
        remove them or change their role.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canReadRevisions
      description: Whether the current user can read the revisions resource of files
        in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canRename
      description: Whether the current user can rename files or folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canRenameDrive
      description: Whether the current user can rename this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canShare
      description: Whether the current user can share files or folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canTrashChildren
      description: Whether the current user can trash children from folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.createdTime
      description: The time at which the shared drive was created (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.Drive.Drive.hidden
      description: Whether the shared drive is hidden from the default view.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.restrictions.adminManagedRestrictions
      description: Whether administrative privileges on this shared drive are required
        to modify restrictions.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.restrictions.copyRequiresWriterPermission
      description: Whether the options to copy, print, or download files inside this
        shared drive, should be disabled for readers and commenters. When this restriction
        is set to true, it will override the similarly named field to true for any
        file inside this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.restrictions.domainUsersOnly
      description: Whether access to this shared drive and items inside this shared
        drive is restricted to users of the domain to which this shared drive belongs.
        This restriction may be overridden by other sharing policies controlled outside
        of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.restrictions.driveMembersOnly
      description: Whether access to items inside this shared drive is restricted
        to its members.
      type: Boolean
  - arguments:
    - auto: PREDEFINED
      defaultValue: "false"
      description: Issue the request as a domain administrator. If set to true, all
        shared drives of the domain in which the requester is an administrator are
        returned.
      name: use_domain_admin_access
      predefined:
      - "true"
      - "false"
    - description: The user's primary email address.
      name: user_id
    - description: ID of the shared drive. Can be retrieved using the `google-drive-drives-list`
        command.
      name: drive_id
    - defaultValue: kind, id, name, themeId, capabilities, createdTime, hidden, restrictions
      description: The fields you want included in the response.
      name: fields
    description: Gets a user shared drives.
    name: google-drive-drive-get
    outputs:
    - contextPath: GoogleDrive.Drive.Drive.id
      description: The ID of this shared drive which is also the ID of the top level
        folder of this shared drive.
      type: String
    - contextPath: GoogleDrive.Drive.Drive.name
      description: The name of this shared drive.
      type: String
    - contextPath: GoogleDrive.Drive.Drive.colorRgb
      description: The color of this shared drive as an RGB hex string.
      type: String
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canAddChildren
      description: Whether the current user can add children to folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canChangeCopyRequiresWriterPermissionRestriction
      description: Whether the current user can change the 'copy requires writer permission'
        restriction of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canChangeDomainUsersOnlyRestriction
      description: Whether the current user can change the 'domain users only' restriction
        of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canChangeDriveBackground
      description: Whether the current user can change the background of this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canChangeDriveMembersOnlyRestriction
      description: Whether the current user can change the 'drive members only' restriction
        of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canComment
      description: Whether the current user can comment on files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canCopy
      description: Whether the current user can copy files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canDeleteChildren
      description: Whether the current user can delete children from folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canDeleteDrive
      description: Whether the current user can delete this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canDownload
      description: Whether the current user can download files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canEdit
      description: Whether the current user can edit files in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canListChildren
      description: Whether the current user can list the children of folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canManageMembers
      description: Whether the current user can add members to this shared drive or
        remove them or change their role.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canReadRevisions
      description: Whether the current user can read the revisions resource of files
        in this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canRename
      description: Whether the current user can rename files or folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canRenameDrive
      description: Whether the current user can rename this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canShare
      description: Whether the current user can share files or folders in this shared
        drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.capabilities.canTrashChildren
      description: Whether the current user can trash children from folders in this
        shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.createdTime
      description: The time at which the shared drive was created (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.Drive.Drive.hidden
      description: Whether the shared drive is hidden from the default view.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.restrictions.adminManagedRestrictions
      description: Whether administrative privileges on this shared drive are required
        to modify restrictions.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.restrictions.copyRequiresWriterPermission
      description: Whether the options to copy, print, or download files inside this
        shared drive, should be disabled for readers and commenters. When this restriction
        is set to true, it will override the similarly named field to true for any
        file inside this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.restrictions.domainUsersOnly
      description: Whether access to this shared drive and items inside this shared
        drive is restricted to users of the domain to which this shared drive belongs.
        This restriction may be overridden by other sharing policies controlled outside
        of this shared drive.
      type: Boolean
    - contextPath: GoogleDrive.Drive.Drive.restrictions.driveMembersOnly
      description: Whether access to items inside this shared drive is restricted
        to its members.
      type: Boolean
  - arguments:
    - auto: PREDEFINED
      defaultValue: "false"
      description: If set to true, then the requester will be granted access if they
        are an administrator of the domain to which the shared drive belongs.
      name: use_domain_admin_access
      predefined:
      - "true"
      - "false"
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether any items inside the shared drive should also be deleted.
        This option is only supported when use_domain_admin_access argument is set
        to true.
      name: allow_item_deletion
      predefined:
      - "true"
      - "false"
    - description: The user's primary email address.
      name: user_id
    - description: The ID of the shared drive to delete. Can be retrieved using the
        `google-drive-drives-list` command.
      name: drive_id
      required: true
    description: Deletes a shared drive.
    name: google-drive-drive-delete
  - arguments:
    - defaultValue: "100"
      description: Maximum number of shared drives to return. Acceptable values are
        1 to 100, inclusive.
      name: page_size
    - description: Page token for shared drives.
      name: page_token
    - description: Query string for searching shared drives.
      name: query
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether both My Drive and shared drive items should be included
        in the results.
      name: include_items_from_all_drives
      predefined:
      - "true"
      - "false"
    - description: The user's primary email address.
      name: user_id
    - defaultValue: kind, id, name, mimeType, description, starred, trashed, explicitlyTrashed,
        trashingUser, trashedTime, parents, properties, appProperties, spaces, version,
        webContentLink, webViewLink, iconLink, hasThumbnail, thumbnailLink, thumbnailVersion,
        viewedByMe, viewedByMeTime, createdTime, modifiedTime, modifiedByMeTime, modifiedByMe,
        sharedWithMeTime, sharingUser, owners, teamDriveId, driveId, lastModifyingUser,
        shared, ownedByMe, capabilities, viewersCanCopyContent, copyRequiresWriterPermission,
        writersCanShare, permissions, permissionIds, hasAugmentedPermissions, folderColorRgb,
        originalFilename, fullFileExtension, fileExtension, md5Checksum, size, quotaBytesUsed,
        headRevisionId, contentHints, isAppAuthorized, exportLinks, shortcutDetails,
        contentRestrictions, resourceKey, linkShareMetadata
      description: The fields you want included in the response.
      name: fields
    - auto: PREDEFINED
      defaultValue: "False"
      description: Whether the requesting application supports both My Drives and
        shared drives.
      name: supports_all_drives
      predefined:
      - "True"
      - "False"
    - auto: PREDEFINED
      defaultValue: User
      description: Files or documents to which the query applies. Prefer 'User' or
        'Drive' to 'All Drives' for efficiency. By default, corpora is set to 'User'.
        However, this can change depending on the filter set through the 'query' argument.
      name: corpora
      predefined:
      - User
      - Domain
      - Drive
      - All Drives
    - description: ID of the shared drive to search. Can be retrieved using the `google-drive-drives-list`
        command. When a drive ID is specified the value of the corpora argument is
        automatically set to 'Drive' regardless of its selected value.
      name: drive_id
    description: Lists the user's shared drives.
    name: google-drive-files-list
    outputs:
    - contextPath: GoogleDrive.File.File.id
      description: The ID of the file.
      type: String
    - contextPath: GoogleDrive.File.File.mimeType
      description: The MIME type of the file.
      type: String
    - contextPath: GoogleDrive.File.File.name
      description: The name of the file. This is not necessarily unique within a folder.
      type: String
    - contextPath: GoogleDrive.File.File.resourceKey
      description: A key needed to access the item via a shared link.
      type: String
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The user's primary email address.
      name: user_id
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether both My Drive and shared drive items should be included
        in the results.
      name: include_items_from_all_drives
      predefined:
      - "true"
      - "false"
    - defaultValue: kind, id, name, mimeType, description, starred, trashed, explicitlyTrashed,
        trashingUser, trashedTime, parents, properties, appProperties, spaces, version,
        webContentLink, webViewLink, iconLink, hasThumbnail, thumbnailLink, thumbnailVersion,
        viewedByMe, viewedByMeTime, createdTime, modifiedTime, modifiedByMeTime, modifiedByMe,
        sharedWithMeTime, sharingUser, owners, teamDriveId, driveId, lastModifyingUser,
        shared, ownedByMe, capabilities, viewersCanCopyContent, copyRequiresWriterPermission,
        writersCanShare, permissions, permissionIds, hasAugmentedPermissions, folderColorRgb,
        originalFilename, fullFileExtension, fileExtension, md5Checksum, size, quotaBytesUsed,
        headRevisionId, contentHints, isAppAuthorized, exportLinks, shortcutDetails,
        contentRestrictions, resourceKey, linkShareMetadata
      description: The fields you want included in the response.
      name: fields
    - auto: PREDEFINED
      defaultValue: "False"
      description: Whether the requesting application supports both My Drives and
        shared drives.
      name: supports_all_drives
      predefined:
      - "True"
      - "False"
    description: Get a single file.
    name: google-drive-file-get
    outputs:
    - contextPath: GoogleDrive.File.File.capabilities.canAddChildren
      description: Whether the current user can add children to this folder. This
        is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canAddMyDriveParent
      description: Whether the current user can add a parent for the item without
        removing an existing parent in the same request. Not populated for shared
        drive files.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canChangeCopyRequiresWriterPermission
      description: Whether the current user can change the 'copy requires writer permission'
        restriction of this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canChangeSecurityUpdateEnabled
      description: Whether the current user can change the 'security update enabled'
        field on link shared metadata.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canComment
      description: Whether the current user can comment on this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canCopy
      description: Whether the current user can copy this file. For an item in a shared
        drive, whether the current user can copy non-folder descendants of this item,
        or this item itself if it is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canDelete
      description: Whether the current user can delete this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canDownload
      description: Whether the current user can download this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canEdit
      description: Whether the current user can edit this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canListChildren
      description: Whether the current user can list the children of this folder.
        This is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canModifyContent
      description: Whether the current user can modify the content of this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveChildrenWithinDrive
      description: Whether the current user can move children of this folder within
        this drive. This is false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveItemOutOfDrive
      description: Whether the current user can move this item outside of this drive
        by changing its parent.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveItemWithinDrive
      description: Whether the current user can move this item within this drive.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canReadRevisions
      description: Whether the current user can read the revisions resource of this
        file. For a shared drive item, whether revisions of non-folder descendants
        of this item, or this item itself if it is not a folder, can be read.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRemoveChildren
      description: Whether the current user can remove children from this folder.
        This is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRemoveMyDriveParent
      description: Whether the current user can remove a parent from the item without
        adding another parent in the same request. Not populated for shared drive
        files.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRename
      description: Whether the current user can rename this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canShare
      description: Whether the current user can modify the sharing settings for this
        file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canTrash
      description: Whether the current user can move this file to trash.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canUntrash
      description: Whether the current user can restore this file from trash.
      type: Boolean
    - contextPath: GoogleDrive.File.File.copyRequiresWriterPermission
      description: Whether the options to copy, print, or download this file, should
        be disabled for readers and commenters.
      type: Boolean
    - contextPath: GoogleDrive.File.File.createdTime
      description: The time at which the file was created (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.explicitlyTrashed
      description: Whether the file has been explicitly trashed, as opposed to recursively
        trashed from a parent folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.exportLinks
      description: Links for exporting Docs Editors files to specific formats.
      type: String
    - contextPath: GoogleDrive.File.File.hasThumbnail
      description: Whether this file has a thumbnail. This does not indicate whether
        the requesting app has access to the thumbnail. To check access, look for
        the presence of the thumbnailLink field.
      type: Boolean
    - contextPath: GoogleDrive.File.File.iconLink
      description: A static, unauthenticated link to the file's icon.
      type: String
    - contextPath: GoogleDrive.File.File.id
      description: The ID of the file.
      type: String
    - contextPath: GoogleDrive.File.File.isAppAuthorized
      description: Whether the file was created or opened by the requesting app.
      type: Boolean
    - contextPath: GoogleDrive.File.File.lastModifyingUser.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.lastModifyingUser.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.File.File.linkShareMetadata.securityUpdateEligible
      description: Whether the file is eligible for a security update.
      type: Boolean
    - contextPath: GoogleDrive.File.File.linkShareMetadata.securityUpdateEnabled
      description: Whether the security update is enabled for this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.mimeType
      description: The MIME type of the file.
      type: String
    - contextPath: GoogleDrive.File.File.modifiedByMe
      description: Whether the file has been modified by this user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.modifiedByMeTime
      description: The last time the file was modified by the user (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.modifiedTime
      description: The last time the file was modified by anyone (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.name
      description: The name of the file. This is not necessarily unique within a folder.
        Note that for immutable items such as the top level folders of shared drives,
        My Drive root folder, and Application Data folder the name is constant.
      type: String
    - contextPath: GoogleDrive.File.File.ownedByMe
      description: Whether the user owns the file. Not populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.File.File.owners.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.owners.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.File.File.owners.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.owners.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.File.File.owners.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.File.File.parents
      description: The IDs of the parent folders which contain the file.
      type: String
    - contextPath: GoogleDrive.File.File.permissionIds
      description: List of permission IDs for users with access to this file.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.deleted
      description: Whether the permission was deleted.
      type: Boolean
    - contextPath: GoogleDrive.File.File.permissions.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.emailAddress
      description: The email address of the user.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.id
      description: The ID of this permission.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.role
      description: The role granted by this permission.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.type
      description: The type of the grantee.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.File.File.quotaBytesUsed
      description: The number of storage quota bytes used by the file. This includes
        the head revision as well as previous revisions with keepForever enabled.
      type: String
    - contextPath: GoogleDrive.File.File.shared
      description: Whether the file has been shared. Not populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.File.File.spaces
      description: The list of spaces which contain the file. The currently supported
        values are 'drive', 'appDataFolder', and 'photos'.
      type: String
    - contextPath: GoogleDrive.File.File.starred
      description: Whether the user has starred the file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.thumbnailLink
      description: A short-lived link to the file's thumbnail, if available. Typically
        lasts on the order of hours.
      type: String
    - contextPath: GoogleDrive.File.File.thumbnailVersion
      description: The thumbnail version for use in thumbnail cache invalidation.
      type: String
    - contextPath: GoogleDrive.File.File.trashed
      description: Whether the file has been trashed, either explicitly or from a
        trashed parent folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.version
      description: A monotonically increasing version number for the file. This reflects
        every change made to the file on the server, even those not visible to the
        user.
      type: String
    - contextPath: GoogleDrive.File.File.viewedByMe
      description: Whether the file has been viewed by this user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.viewedByMeTime
      description: The last time the file was viewed by the user (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.webViewLink
      description: A link for opening the file in a relevant Google editor or viewer
        in a browser.
      type: String
    - contextPath: GoogleDrive.File.File.writersCanShare
      description: Whether users with only writer permission can modify the file's
        permissions. Not populated for items in shared drives.
      type: Boolean
  - arguments:
    - description: The name of the file to upload.
      name: file_name
    - description: The file's Entry ID.
      name: entry_id
    - description: The ID of the parent folder which contains the file. If not specified
        as part of a create request, the file will be placed directly in the user's
        My Drive folder.
      name: parent
    description: Creates a new file.
    name: google-drive-file-upload
    outputs:
    - contextPath: GoogleDrive.File.File.id
      description: The ID of the file.
      type: String
    - contextPath: GoogleDrive.File.File.name
      description: The name of the file. This is not necessarily unique within a folder.
        Note that for immutable items such as the top level folders of shared drives,
        My Drive root folder, and Application Data folder, the name is constant.
      type: String
    - contextPath: GoogleDrive.File.File.mimeType
      description: The MIME type of the file.
      type: String
    - contextPath: GoogleDrive.File.File.starred
      description: Whether the user has starred the file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.trashed
      description: Whether the file has been trashed, either explicitly or from a
        trashed parent folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.explicitlyTrashed
      description: Whether the file has been explicitly trashed, as opposed to recursively
        trashed from a parent folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.parents
      description: The IDs of the parent folders which contain the file.
      type: String
    - contextPath: GoogleDrive.File.File.spaces
      description: The list of spaces which contain the file. The currently supported
        values are 'drive', 'appDataFolder', and 'photos'.
      type: String
    - contextPath: GoogleDrive.File.File.version
      description: A monotonically increasing version number for the file. This reflects
        every change made to the file on the server, even those not visible to the
        user.
      type: String
    - contextPath: GoogleDrive.File.File.webContentLink
      description: A link for downloading the content of the file in a browser. This
        is only available for files with binary content in Google Drive.
      type: String
    - contextPath: GoogleDrive.File.File.webViewLink
      description: A link for opening the file in a relevant Google editor or viewer
        in a browser.
      type: String
    - contextPath: GoogleDrive.File.File.iconLink
      description: A static, unauthenticated link to the file's icon.
      type: String
    - contextPath: GoogleDrive.File.File.hasThumbnail
      description: Whether this file has a thumbnail. This does not indicate whether
        the requesting app has access to the thumbnail. To check access, look for
        the presence of the thumbnailLink field.
      type: Boolean
    - contextPath: GoogleDrive.File.File.thumbnailVersion
      description: The thumbnail version for use in thumbnail cache invalidation.
      type: String
    - contextPath: GoogleDrive.File.File.viewedByMe
      description: Whether the file has been viewed by this user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.viewedByMeTime
      description: The last time the file was viewed by the user (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.createdTime
      description: The time at which the file was created (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.modifiedTime
      description: The last time the file was modified by anyone (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.thumbnailLink
      description: A short-lived link to the file's thumbnail, if available. Typically
        lasts on the order of hours.
      type: String
    - contextPath: GoogleDrive.File.File.exportLinks
      description: Links for exporting Docs Editors files to specific formats.
      type: String
    - contextPath: GoogleDrive.File.File.quotaBytesUsed
      description: The number of storage quota bytes used by the file. This includes
        the head revision as well as previous revisions with keepForever enabled.
      type: String
    - contextPath: GoogleDrive.File.File.shared
      description: Whether the file has been shared. Not populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.File.File.writersCanShare
      description: Whether users with only writer permission can modify the file's
        permissions. Not populated for items in shared drives.
      type: Boolean
    - contextPath: GoogleDrive.File.File.modifiedByMe
      description: Whether the file has been modified by this user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.modifiedByMeTime
      description: The last time the file was modified by the user (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.ownedByMe
      description: Whether the user owns the file. Not populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.File.File.isAppAuthorized
      description: Whether the file was created or opened by the requesting app.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canAddChildren
      description: Whether the current user can add children to this folder. This
        is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canAddMyDriveParent
      description: Whether the current user can add a parent for the item without
        removing an existing parent in the same request. Not populated for shared
        drive files.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canChangeCopyRequiresWriterPermission
      description: Whether the current user can change the 'copy requires writer permission'
        restriction of this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canChangeSecurityUpdateEnabled
      description: Whether the current user can change the 'security update enabled'
        field on link shared metadata.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canComment
      description: Whether the current user can comment on this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canCopy
      description: Whether the current user can copy this file. For an item in a shared
        drive, whether the current user can copy non-folder descendants of this item,
        or this item itself if it is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canDelete
      description: Whether the current user can delete this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canDownload
      description: Whether the current user can download this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canEdit
      description: Whether the current user can edit this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canListChildren
      description: Whether the current user can list the children of this folder.
        This is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canModifyContent
      description: Whether the current user can modify the content of this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveChildrenWithinDrive
      description: Whether the current user can move children of this folder within
        this drive. This is false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveItemOutOfDrive
      description: Whether the current user can move this item outside of this drive
        by changing its parent.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveItemWithinDrive
      description: Whether the current user can move this item within this drive.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canReadRevisions
      description: Whether the current user can read the revisions resource of this
        file. For a shared drive item, whether revisions of non-folder descendants
        of this item, or this item itself if it is not a folder, can be read.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRemoveChildren
      description: Whether the current user can remove children from this folder.
        This is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRemoveMyDriveParent
      description: Whether the current user can remove a parent from the item without
        adding another parent in the same request. Not populated for shared drive
        files.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRename
      description: Whether the current user can rename this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canShare
      description: Whether the current user can modify the sharing settings for this
        file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canTrash
      description: Whether the current user can move this file to trash.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canUntrash
      description: Whether the current user can restore this file from trash.
      type: Boolean
    - contextPath: GoogleDrive.File.File.copyRequiresWriterPermission
      description: Whether the options to copy, print, or download this file, should
        be disabled for readers and commenters.
      type: Boolean
    - contextPath: GoogleDrive.File.File.lastModifyingUser.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.lastModifyingUser.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.File.File.linkShareMetadata.securityUpdateEligible
      description: Whether the file is eligible for security update.
      type: Boolean
    - contextPath: GoogleDrive.File.File.linkShareMetadata.securityUpdateEnabled
      description: Whether the security update is enabled for this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.owners.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.owners.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.File.File.owners.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.owners.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.File.File.owners.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.File.File.permissionIds
      description: List of permission IDs for users with access to this file.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.deleted
      description: Whether the permission was deleted.
      type: Boolean
    - contextPath: GoogleDrive.File.File.permissions.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.emailAddress
      description: The email address of the user.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.id
      description: The ID of this permission.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.role
      description: The role granted by this permission.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.type
      description: The type of the grantee.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.photoLink
      description: A link to the user's profile photo, if available.
      type: String
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - defaultValue: untitled
      description: Name of the downloaded file.
      name: file_name
    - description: The user's primary email address.
      name: user_id
    description: Download a single file.
    name: google-drive-file-download
    outputs:
    - contextPath: File.Size
      description: The size of the file.
      type: Number
    - contextPath: File.SHA1
      description: The SHA1 hash of the file.
      type: String
    - contextPath: File.SHA256
      description: The SHA256 hash of the file.
      type: String
    - contextPath: File.Name
      description: The name of the file.
      type: String
    - contextPath: File.SSDeep
      description: The SSDeep hash of the file.
      type: String
    - contextPath: File.EntryID
      description: The entry ID of the file.
      type: String
    - contextPath: File.Info
      description: File information.
      type: String
    - contextPath: File.Type
      description: The file type.
      type: String
    - contextPath: File.MD5
      description: The MD5 hash of the file.
      type: String
    - contextPath: File.Extension
      description: The file extension.
      type: String
  - arguments:
    - description: ID of the file to replace. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The file's entry ID.
      name: entry_id
    description: Updates a file's content.
    name: google-drive-file-replace-existing
    outputs:
    - contextPath: GoogleDrive.File.File.id
      description: The ID of the file.
      type: String
    - contextPath: GoogleDrive.File.File.name
      description: The name of the file. This is not necessarily unique within a folder.
        Note that for immutable items such as the top level folders of shared drives,
        My Drive root folder, and Application Data folder, the name is constant.
      type: String
    - contextPath: GoogleDrive.File.File.mimeType
      description: The MIME type of the file.
      type: String
    - contextPath: GoogleDrive.File.File.starred
      description: Whether the user has starred the file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.trashed
      description: Whether the file has been trashed, either explicitly or from a
        trashed parent folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.explicitlyTrashed
      description: Whether the file has been explicitly trashed, as opposed to recursively
        trashed from a parent folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.parents
      description: The IDs of the parent folders which contain the file.
      type: String
    - contextPath: GoogleDrive.File.File.spaces
      description: The list of spaces which contain the file. The currently supported
        values are 'drive', 'appDataFolder', and 'photos'.
      type: String
    - contextPath: GoogleDrive.File.File.version
      description: A monotonically increasing version number for the file. This reflects
        every change made to the file on the server, even those not visible to the
        user.
      type: String
    - contextPath: GoogleDrive.File.File.webContentLink
      description: A link for downloading the content of the file in a browser. This
        is only available for files with binary content in Google Drive.
      type: String
    - contextPath: GoogleDrive.File.File.webViewLink
      description: A link for opening the file in a relevant Google editor or viewer
        in a browser.
      type: String
    - contextPath: GoogleDrive.File.File.iconLink
      description: A static, unauthenticated link to the file's icon.
      type: String
    - contextPath: GoogleDrive.File.File.hasThumbnail
      description: Whether this file has a thumbnail. This does not indicate whether
        the requesting app has access to the thumbnail. To check access, look for
        the presence of the thumbnailLink field.
      type: Boolean
    - contextPath: GoogleDrive.File.File.thumbnailVersion
      description: The thumbnail version for use in thumbnail cache invalidation.
      type: String
    - contextPath: GoogleDrive.File.File.viewedByMe
      description: Whether the file has been viewed by this user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.viewedByMeTime
      description: The last time the file was viewed by the user (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.createdTime
      description: The time at which the file was created (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.modifiedTime
      description: The last time the file was modified by anyone (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.thumbnailLink
      description: A short-lived link to the file's thumbnail, if available. Typically
        lasts on the order of hours.
      type: String
    - contextPath: GoogleDrive.File.File.exportLinks
      description: Links for exporting Docs Editors files to specific formats.
      type: String
    - contextPath: GoogleDrive.File.File.quotaBytesUsed
      description: The number of storage quota bytes used by the file. This includes
        the head revision as well as previous revisions with keepForever enabled.
      type: String
    - contextPath: GoogleDrive.File.File.shared
      description: Whether the file has been shared. Not populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.File.File.writersCanShare
      description: Whether users with only writer permission can modify the file's
        permissions. Not populated for items in shared drives.
      type: Boolean
    - contextPath: GoogleDrive.File.File.modifiedByMe
      description: Whether the file has been modified by this user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.modifiedByMeTime
      description: The last time the file was modified by the user (RFC 3339 date-time).
      type: Date
    - contextPath: GoogleDrive.File.File.ownedByMe
      description: Whether the user owns the file. Not populated for items in shared
        drives.
      type: Boolean
    - contextPath: GoogleDrive.File.File.isAppAuthorized
      description: Whether the file was created or opened by the requesting app.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canAddChildren
      description: Whether the current user can add children to this folder. This
        is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canAddMyDriveParent
      description: Whether the current user can add a parent for the item without
        removing an existing parent in the same request. Not populated for shared
        drive files.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canChangeCopyRequiresWriterPermission
      description: Whether the current user can change the 'copy requires writer permission'
        restriction of this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canChangeSecurityUpdateEnabled
      description: Whether the current user can change the 'security update enabled'
        field on link shared metadata.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canComment
      description: Whether the current user can comment on this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canCopy
      description: Whether the current user can copy this file. For an item in a shared
        drive, whether the current user can copy non-folder descendants of this item,
        or this item itself if it is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canDelete
      description: Whether the current user can delete this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canDownload
      description: Whether the current user can download this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canEdit
      description: Whether the current user can edit this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canListChildren
      description: Whether the current user can list the children of this folder.
        This is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canModifyContent
      description: Whether the current user can modify the content of this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveChildrenWithinDrive
      description: Whether the current user can move children of this folder within
        this drive. This is false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveItemOutOfDrive
      description: Whether the current user can move this item outside of this drive
        by changing its parent.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canMoveItemWithinDrive
      description: Whether the current user can move this item within this drive.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canReadRevisions
      description: Whether the current user can read the revisions resource of this
        file. For a shared drive item, whether revisions of non-folder descendants
        of this item, or this item itself if it is not a folder, can be read.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRemoveChildren
      description: Whether the current user can remove children from this folder.
        This is always false when the item is not a folder.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRemoveMyDriveParent
      description: Whether the current user can remove a parent from the item without
        adding another parent in the same request. Not populated for shared drive
        files.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canRename
      description: Whether the current user can rename this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canShare
      description: Whether the current user can modify the sharing settings for this
        file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canTrash
      description: Whether the current user can move this file to trash.
      type: Boolean
    - contextPath: GoogleDrive.File.File.capabilities.canUntrash
      description: Whether the current user can restore this file from trash.
      type: Boolean
    - contextPath: GoogleDrive.File.File.copyRequiresWriterPermission
      description: Whether the options to copy, print, or download this file, should
        be disabled for readers and commenters.
      type: Boolean
    - contextPath: GoogleDrive.File.File.lastModifyingUser.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.lastModifyingUser.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.File.File.lastModifyingUser.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.File.File.linkShareMetadata.securityUpdateEligible
      description: Whether the file is eligible for security update.
      type: Boolean
    - contextPath: GoogleDrive.File.File.linkShareMetadata.securityUpdateEnabled
      description: Whether the security update is enabled for this file.
      type: Boolean
    - contextPath: GoogleDrive.File.File.owners.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.owners.emailAddress
      description: The email address of the user. This may not be present in certain
        contexts if the user has not made their email address visible to the requester.
      type: String
    - contextPath: GoogleDrive.File.File.owners.me
      description: Whether this user is the requesting user.
      type: Boolean
    - contextPath: GoogleDrive.File.File.owners.permissionId
      description: The user's ID as visible in Permission resources.
      type: String
    - contextPath: GoogleDrive.File.File.owners.photoLink
      description: A link to the user's profile photo, if available.
      type: String
    - contextPath: GoogleDrive.File.File.permissionIds
      description: List of permission IDs for users with access to this file.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.deleted
      description: Whether the permission was deleted.
      type: Boolean
    - contextPath: GoogleDrive.File.File.permissions.displayName
      description: A plain text displayable name for this user.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.emailAddress
      description: The email address of the user.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.id
      description: The ID of this permission.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.role
      description: The role granted by this permission.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.type
      description: The type of the grantee.
      type: String
    - contextPath: GoogleDrive.File.File.permissions.photoLink
      description: A link to the user's profile photo, if available.
      type: String
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The user's primary email address.
      name: user_id
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether the requesting application supports both My Drives and
        shared drives.
      name: supports_all_drives
      predefined:
      - "true"
      - "false"
    description: Permanently deletes a file owned by the user without moving it to
      the trash. If the file belongs to a shared drive the user must be an organizer
      on the parent. If the target is a folder, all descendants owned by the user
      are also deleted.
    name: google-drive-file-delete
    outputs:
    - contextPath: GoogleDrive.File.File.id
      description: ID of the deleted file.
      type: String
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The user's primary email address.
      name: user_id
    - defaultValue: "100"
      description: Maximum number of shared drives to return. Acceptable values are
        1 to 100, inclusive.
      name: page_size
    - description: Page token for shared drives.
      name: page_token
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether the requesting application supports both My Drives and
        shared drives.
      name: supports_all_drives
      predefined:
      - "true"
      - "false"
    - auto: PREDEFINED
      defaultValue: "false"
      description: Issue the request as a domain administrator. If set to true, all
        shared drives of the domain in which the requester is an administrator are
        returned.
      name: use_domain_admin_access
      predefined:
      - "true"
      - "false"
    description: Lists a file's or shared drive's permissions.
    name: google-drive-file-permissions-list
    outputs:
    - contextPath: GoogleDrive.FilePermission.FilePermission.deleted
      description: Whether the account associated with this permission has been deleted.
        This field only pertains to user and group permissions.
      type: Boolean
    - contextPath: GoogleDrive.FilePermission.FilePermission.displayName
      description: The "pretty" name of the value of the permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.emailAddress
      description: The email address of the user or group to which this permission
        refers.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.id
      description: The ID of this permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.role
      description: The role granted by this permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.type
      description: The type of the grantee.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.photoLink
      description: A link to the user's profile photo, if available.
      type: String
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The user's primary email address.
      name: user_id
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether a confirmation email will be sent.
      name: send_notification_email
      predefined:
      - "true"
      - "false"
    - auto: PREDEFINED
      defaultValue: reader
      description: 'The role granted by this permission. Possible values: "owner",
        "organizer", "fileOrganizer", "writer", "commenter", and "reader".'
      name: role
      predefined:
      - owner
      - organizer
      - fileOrganizer
      - writer
      - commenter
      - reader
    - auto: PREDEFINED
      defaultValue: anyone
      description: 'The type of the grantee. When creating a permission, if type is
        user or group, you must provide an emailAddress for the user or group. When
        type is domain, you must provide a domain. No extra information is required
        for an anyone type. Possible values: "user", "group", "domain", and "anyone".'
      name: type
      predefined:
      - user
      - group
      - domain
      - anyone
    - description: The domain to which this permission refers.
      name: domain
    - description: The email address of the user or group to which this permission
        refers.
      name: email_address
    description: Creates a permission for a file or shared drive.
    name: google-drive-file-permission-create
    outputs:
    - contextPath: GoogleDrive.FilePermission.FilePermission.deleted
      description: Whether the account associated with this permission has been deleted.
        This field only pertains to user and group permissions.
      type: Boolean
    - contextPath: GoogleDrive.FilePermission.FilePermission.displayName
      description: The "pretty" name of the value of the permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.emailAddress
      description: The email address of the user or group to which this permission
        refers.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.id
      description: The ID of this permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.role
      description: The role granted by this permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.type
      description: The type of the grantee.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.photoLink
      description: A link to the user's profile photo, if available.
      type: String
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The user's primary email address.
      name: user_id
    - description: The time at which this permission will expire (RFC 3339 date-time).
      name: expiration_time
    - description: The ID of the permission. Can be retrieved using the `google-drive-file-permissions-list`
        command.
      name: permission_id
    - auto: PREDEFINED
      defaultValue: reader
      description: 'The role granted by this permission. Possible values: "owner",
        "organizer", "fileOrganizer", "writer", "commenter", and "reader".'
      name: role
      predefined:
      - owner
      - organizer
      - fileOrganizer
      - writer
      - commenter
      - reader
    description: Updates a permission with patch semantics.
    name: google-drive-file-permission-update
    outputs:
    - contextPath: GoogleDrive.FilePermission.FilePermission.deleted
      description: Whether the account associated with this permission has been deleted.
        This field only pertains to user and group permissions.
      type: Boolean
    - contextPath: GoogleDrive.FilePermission.FilePermission.displayName
      description: The "pretty" name of the value of the permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.emailAddress
      description: The email address of the user or group to which this permission
        refers.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.id
      description: The ID of this permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.role
      description: The role granted by this permission.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.type
      description: The type of the grantee.
      type: String
    - contextPath: GoogleDrive.FilePermission.FilePermission.photoLink
      description: A link to the user's profile photo, if available.
      type: String
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The user's primary email address.
      name: user_id
    - description: The ID of the permission. Can be retrieved using the `google-drive-file-permissions-list`
        command.
      name: permission_id
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether the requesting application supports both My Drives and
        shared drives.
      name: supports_all_drives
      predefined:
      - "true"
      - "false"
    description: Delete a permission.
    name: google-drive-file-permission-delete
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The user's primary email address.
      name: user_id
    - description: The label id to set for the file.
      name: label_id
    - description: the field id of the label to set.
      name: field_id
    - description: the label id to set for the field.
      name: selection_label_id
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether the requesting application supports both My Drives and
        shared drives.
      name: remove_label
      predefined:
      - "true"
      - "false"
    description: Modify labels to file.
    name: google-drive-file-modify-label
    outputs:
    - contextPath: GoogleDrive.Labels.kind
      description: The type of resource. This is always drive#modifyLabelsResponse.
      type: String
    - contextPath: GoogleDrive.Labels.modifiedLabels.fields.id
      description: The ID of the label field selected.
      type: String
    - contextPath: GoogleDrive.Labels.modifiedLabels.fields.kind
      description: Kind of resource this is, in this case drive#labelField.
      type: String
    - contextPath: GoogleDrive.Labels.modifiedLabels.fields.selection
      description: Selected label.
      type: String
    - contextPath: GoogleDrive.Labels.modifiedLabels.fields.valueType
      description: The type of data this label is representing.
      type: String
    - contextPath: GoogleDrive.Labels.modifiedLabels.id
      description: The label id of the label to set.
      type: String
    - contextPath: GoogleDrive.Labels.modifiedLabels.kind
      description: The type of resource. This is always drive#label.
      type: String
    - contextPath: GoogleDrive.Labels.modifiedLabels.revisionId
      description: ""
      type: String
  - arguments:
    - description: The user's primary email address.
      name: user_id
    description: Google Drive get labels.
    name: google-drive-get-labels
    outputs:
    - contextPath: GoogleDrive.Labels.labels.appliedCapabilities.canApply
      description: Is able to apply this label to files.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.appliedCapabilities.canRead
      description: Is able to read this label.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.appliedCapabilities.canRemove
      description: Is able to remove this label from files.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.appliedLabelPolicy.copyMode
      description: Copy label to all descendants.
      type: String
    - contextPath: GoogleDrive.Labels.labels.createTime
      description: Time at which this label was created.
      type: Date
    - contextPath: GoogleDrive.Labels.labels.creator.person
      description: The creator of this label.
      type: String
    - contextPath: GoogleDrive.Labels.labels.customer
      description: The customer that owns this label.
      type: String
    - contextPath: GoogleDrive.Labels.labels.displayHints.priority
      description: Priority of the label.
      type: String
    - contextPath: GoogleDrive.Labels.labels.displayHints.shownInApply
      description: Whether this label is shown in the "Apply a label" dropdown.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.appliedCapabilities.canRead
      description: Is the field readable.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.appliedCapabilities.canSearch
      description: Is the field searchable.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.appliedCapabilities.canWrite
      description: Is the field writable.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.creator.person
      description: The creator of this field.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.displayHints.required
      description: Is this field required to be set by the user.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.displayHints.shownInApply
      description: Should this field be shown when editing the label.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.id
      description: The ID of the field.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.lifecycle.state
      description: The lifecycle state of this field.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.properties.displayName
      description: The display name of the property.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.properties.required
      description: Is this property required to be set by the user.
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.publisher.person
      description: The user who published this field.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.queryKey
      description: The query key for this field.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.schemaCapabilities
      description: Schema capabilities for this field.
      type: Unknown
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.appliedCapabilities.canRead
      description: ""
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.appliedCapabilities.canSearch
      description: ""
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.appliedCapabilities.canSelect
      description: ""
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.backgroundColor.blue
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.backgroundColor.green
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.backgroundColor.red
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.foregroundColor.blue
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.foregroundColor.green
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.foregroundColor.red
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.soloColor.blue
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.soloColor.green
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgeColors.soloColor.red
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.badgePriority
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.backgroundColor.blue
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.backgroundColor.green
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.backgroundColor.red
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.foregroundColor.blue
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.foregroundColor.green
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.foregroundColor.red
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.soloColor.blue
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.soloColor.green
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.darkBadgeColors.soloColor.red
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.displayHints.shownInApply
      description: ""
      type: Boolean
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.id
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.lifecycle.state
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.properties.badgeConfig.color.blue
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.properties.badgeConfig.color.green
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.properties.badgeConfig.color.red
      description: ""
      type: Number
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.properties.displayName
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.selectionOptions.choices.schemaCapabilities
      description: ""
      type: Unknown
    - contextPath: GoogleDrive.Labels.labels.fields.updater.person
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.id
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.labelType
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.lifecycle.state
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.name
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.properties.title
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.publishTime
      description: ""
      type: Date
    - contextPath: GoogleDrive.Labels.labels.publisher.person
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.revisionCreateTime
      description: ""
      type: Date
    - contextPath: GoogleDrive.Labels.labels.revisionCreator.person
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.revisionId
      description: ""
      type: String
    - contextPath: GoogleDrive.Labels.labels.schemaCapabilities
      description: ""
      type: Unknown
    - contextPath: GoogleDrive.Labels.labels.fields.userOptions
      description: ""
      type: Unknown
  - arguments:
    - description: ID of the requested file. Can be retrieved using the `google-drive-files-list`
        command.
      name: file_id
    - description: The user's primary email address.
      name: user_id
    description: Modify labels to file.
    name: google-drive-get-file-labels
    outputs:
    - contextPath: GoogleDrive.File.File.id
      description: The ID of the file.
      type: String
    - contextPath: GoogleDrive.Labels.kind
      description: The type of resource. This is always drive#labelList.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.id
      description: The ID of the label field selected.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.kind
      description: The kind of this field. This is always drive#labelField.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.selection
      description: The label field selected.
      type: String
    - contextPath: GoogleDrive.Labels.labels.fields.valueType
      description: The type of data this label is representing.
      type: String
    - contextPath: GoogleDrive.Labels.labels.id
      description: The label id of the label to set.
      type: String
    - contextPath: GoogleDrive.Labels.labels.kind
      description: The type of resource. This is always drive#label.
      type: String
    - contextPath: GoogleDrive.Labels.labels.revisionId
      description: The revision id of the label.
      type: String
  - arguments:
    - description: The ID of the file to copy.
      name: file_id
      required: true
    - description: The name of the copied file.
      name: copy_title
    - description: The user's primary email address.
      name: user_id
    - auto: PREDEFINED
      defaultValue: "false"
      description: Whether the requesting application supports both My Drives and
        shared drives.
      name: supports_all_drives
      predefined:
      - "true"
      - "false"
    description: Make a copy of a Google Drive file.
    name: google-drive-file-copy
    outputs:
    - contextPath: GoogleDrive.File.File.kind
      description: The content type of the file.
      type: String
    - contextPath: GoogleDrive.File.File.id
      description: The ID of the copied file.
      type: String
    - contextPath: GoogleDrive.File.File.name
      description: The name of the copied file.
      type: String
    - contextPath: GoogleDrive.File.File.mimeType
      description: The MIME type of the copied file.
      type: String
  dockerimage: demisto/googleapi-python3:1.0.0.77375
  isfetch: true
  runonce: false
  script: |
    register_module_line('GoogleDrive', 'start', __line__())
    ### pack version: 1.2.45



    ''' IMPORTS '''

    import io
    import urllib3
    import uuid
    import dateparser
    import yaml
    from typing import Any
    from collections.abc import Callable

    from apiclient import discovery, errors
    from googleapiclient.http import MediaFileUpload
    from googleapiclient.http import MediaIoBaseDownload

    # Disable insecure warnings
    urllib3.disable_warnings()

    ''' CONSTANTS '''

    API_VERSION = 'v3'
    SERVICE_NAME = 'drive'

    MESSAGES: dict[str, str] = {
        'TEST_FAILED_ERROR': 'Test connectivity failed. Check the configuration parameters provided.',
        'DRIVE_CHANGES_FIELDS': 'The argument fields must be either basic or advance.',
        'INTEGER_ERROR': 'The argument {} must be a positive integer.',
        'FETCH_INCIDENT_REQUIRED_ARGS': 'The Parameter Drive Item Search Field and Drive Item Search Value are required'
                                        ' if any one of them is provided.',
        'MAX_INCIDENT_ERROR': 'The parameter Max Incidents must be a positive integer.'
                              ' Accepted values can be in the range of 1-100.',
        'USER_ID_REQUIRED': 'The parameter User ID is required.'
    }

    HR_MESSAGES: dict[str, str] = {
        'DRIVE_CREATE_SUCCESS': 'A new shared drive created.',
        'DRIVE_DELETE_SUCCESS': 'The following shared drive was deleted. Drive ID: {}',
        'NOT_FOUND': 'No {} found.',
        'LIST_COMMAND_SUCCESS': 'Total Retrieved {}: {}',
        'DELETE_COMMAND_SUCCESS': 'Total Deleted {}: {}',

        'EXCEPTION_LIST_GENERIC': 'Exception searching for {}: {}',

        'EXCEPTION_GENERIC': 'Exception handling a {} request: {}',
        'MODIFY_LABEL_SUCCESS': 'Modify label successfully assigned to {}.',
        'GET_LABEL_SUCCESS': 'Label successfully retrieved.',
        'GET_LABELS_SUCCESS': 'Labels successfully retrieved.',
    }

    SCOPES: dict[str, list[str]] = {
        'TEST_MODULE': ['https://www.googleapis.com/auth/userinfo.email'],
        'DRIVE': ['https://www.googleapis.com/auth/drive']
    }

    COMMAND_SCOPES: dict[str, list[str]] = {
        'DRIVE_CHANGES': [
            'https://www.googleapis.com/auth/drive',
            'https://www.googleapis.com/auth/drive.file',
            'https://www.googleapis.com/auth/drive.readonly',
            'https://www.googleapis.com/auth/drive.metadata.readonly',
            'https://www.googleapis.com/auth/drive.appdata',
            'https://www.googleapis.com/auth/drive.metadata',
            'https://www.googleapis.com/auth/drive.photos.readonly'
        ],
        'DRIVE_ACTIVITY': [
            'https://www.googleapis.com/auth/drive.activity',
            'https://www.googleapis.com/auth/drive.activity.readonly'
        ],
        'DRIVES': [
            'https://www.googleapis.com/auth/drive',
            'https://www.googleapis.com/auth/drive.readonly'
        ],
        'FILES': [
            'https://www.googleapis.com/auth/drive',
            'https://www.googleapis.com/auth/drive.file',
            'https://www.googleapis.com/auth/drive.readonly',
            'https://www.googleapis.com/auth/drive.metadata.readonly',
            'https://www.googleapis.com/auth/drive.appdata',
            'https://www.googleapis.com/auth/drive.metadata',
            'https://www.googleapis.com/auth/drive.photos.readonly'
        ],
        'FILE_REPLACE_EXISTING': [
            'https://www.googleapis.com/auth/drive',
            'https://www.googleapis.com/auth/drive.file',
            'https://www.googleapis.com/auth/drive.appdata',
            'https://www.googleapis.com/auth/drive.scripts',
            'https://www.googleapis.com/auth/drive.metadata',
        ],
        'FILE_DELETE': [
            'https://www.googleapis.com/auth/drive',
            'https://www.googleapis.com/auth/drive.file',
            'https://www.googleapis.com/auth/drive.appdata'
        ],

        'FILE_PERMISSIONS_LIST': [
            'https://www.googleapis.com/auth/drive',
            'https://www.googleapis.com/auth/drive.file',
            'https://www.googleapis.com/auth/drive.readonly',
            'https://www.googleapis.com/auth/drive.metadata.readonly',
            'https://www.googleapis.com/auth/drive.metadata',
            'https://www.googleapis.com/auth/drive.photos.readonly',
        ],

        'FILE_PERMISSIONS_CRUD': [
            'https://www.googleapis.com/auth/drive',
            'https://www.googleapis.com/auth/drive.file',
        ],

        'MODIFY_LABELS_PERMISSIONS_CRUD': [
            'https://www.googleapis.com/auth/drive',
            'https://www.googleapis.com/auth/drive.labels',
        ]
    }

    URLS: dict[str, str] = {
        'DRIVE_ACTIVITY': 'https://driveactivity.googleapis.com/v2/activity:query',
        'DRIVE_LABELS': 'https://drivelabels.googleapis.com/v2/labels'
    }
    URL_SUFFIX: dict[str, str] = {
        'DRIVE_CHANGES': 'drive/v3/changes',
        'DRIVE_CREATE': 'drive/v3/drives',
        'DRIVE_DRIVES': 'drive/v3/drives',
        'DRIVE_DRIVES_ID': 'drive/v3/drives/{}',
        'DRIVE_FILES': 'drive/v3/files',
        'DRIVE_FILES_ID': 'drive/v3/files/{}',

        'FILE_UPLOAD': 'upload/drive/v3/files',
        'FILE_REPLACE_EXISTING': 'upload/drive/v3/files/{}',

        'FILE_PERMISSIONS_LIST': 'drive/v3/files/{}/permissions',
        'FILE_PERMISSION_CREATE': 'drive/v3/files/{}/permissions',
        'FILE_PERMISSION_UPDATE': 'drive/v3/files/{}/permissions/{}',
        'FILE_PERMISSION_DELETE': 'drive/v3/files/{}/permissions/{}',
        'FILE_MODIFY_LABEL': 'drive/v3/files/{}/modifyLabels',
        'FILE_GET_LABELS': 'drive/v3/files/{}/listLabels'
    }

    OUTPUT_PREFIX: dict[str, str] = {
        'GOOGLE_DRIVE_HEADER': 'GoogleDrive.Drive',
        'PAGE_TOKEN': 'PageToken',

        'DRIVE_CHANGES_LIST': 'GoogleDrive.DriveChange(val.time == obj.time && val.fileId == obj.fileId &&'
                              ' val.driveId == obj.driveId && val.userId == obj.userId)',
        'DRIVE_CHANGES_LIST_PAGE_TOKEN': 'GoogleDrive.PageToken.DriveChange(val.driveId == obj.driveId'
                                         ' && val.userId == obj.userId)',

        'DRIVE_ACTIVITY_LIST': 'GoogleDrive.DriveActivity',
        'DRIVE_ACTIVITY_LIST_PAGE_TOKEN': 'GoogleDrive.PageToken.DriveActivity',

        'GOOGLE_DRIVE_DRIVE_HEADER': 'GoogleDrive.Drive',
        'DRIVE': 'Drive',

        'GOOGLE_DRIVE_FILE_HEADER': 'GoogleDrive.File',
        'FILE': 'File',

        'GOOGLE_DRIVE_FILE_PERMISSION_HEADER': 'GoogleDrive.FilePermission',
        'FILE_PERMISSION': 'FilePermission',

        'LABELS': 'GoogleDrive.Labels'

    }

    DATE_FORMAT: str = '%Y-%m-%d'  # sample - 2020-08-23
    DATE_FORMAT_TIME_RANGE: str = '%Y-%m-%dT%H:%M:%SZ'

    OBJECT_HEADER: str = 'Object'
    ACTIVITY_TIME: str = 'Activity Time'
    PRIMARY_ACTION: str = 'Primary Action'
    NEXT_PAGE_TOKEN: str = '### Next Page Token: {}\n'
    COLOR_RGB: str = 'Color RGB'
    ACTION_MAPPINGS: dict[str, str] = {'dlpChange': 'DLPChange'}
    DRIVE_ACTIVITY_DETAIL_ACTION: str = 'detail.action_detail_case: {}'


    def prepare_markdown_from_dictionary(data: dict[str, Any], ignore_fields: list[str] = []) -> str:
        """
        Prepares markdown from dictionary.

        :param data: data directory.
        :param ignore_fields: fields to ignore while preparing mark-down from dictionary.

        :return: data in markdown format.
        """
        hr_cell_info: list[str] = []
        for key, value in data.items():
            if key not in ignore_fields:
                hr_cell_info.append(
                    '{}: {}'.format(pascalToSpace(key), ', '.join(value) if isinstance(value, list) else value))
        return '\n'.join(hr_cell_info)


    def prepare_params_for_drive_changes_list(args: dict[str, str]) -> dict[str, Any]:
        """
        Prepares arguments for google-drive-changes-list command.

        :param args: Command arguments.
        :return: Prepared params.
        :raises ValueError: If there any invalid value of argument.
        """
        GSuiteClient.validate_set_boolean_arg(args, 'include_corpus_removals')
        GSuiteClient.validate_set_boolean_arg(args, 'include_items_from_all_drives')
        GSuiteClient.validate_set_boolean_arg(args, 'include_removed')
        GSuiteClient.validate_set_boolean_arg(args, 'restrict_to_my_drive')
        GSuiteClient.validate_set_boolean_arg(args, 'supports_all_drives')

        fields = args.get('fields', 'basic')
        if fields == 'basic':
            fields = ''
        elif fields == 'advance':
            fields = '*'
        else:
            raise ValueError(MESSAGES['DRIVE_CHANGES_FIELDS'])
        page_size = args.get('page_size', '100')
        GSuiteClient.validate_get_int(page_size, MESSAGES['INTEGER_ERROR'].format('page_size'))

        params = {
            'pageToken': args.get('page_token', ''),
            'driveId': args.get('drive_id', ''),
            'includeCorpusRemovals': args.get('include_corpus_removals'),
            'includeItemsFromAllDrives': args.get('include_items_from_all_drives'),
            'includePermissionsForView': args.get('include_permissions_for_view', ''),
            'includeRemoved': args.get('include_removed'),
            'pageSize': int(page_size),
            'restrictToMyDrive': args.get('restrict_to_my_drive'),
            'spaces': args.get('spaces', ''),
            'supportsAllDrives': args.get('supports_all_drives'),
            'fields': fields
        }
        return GSuiteClient.remove_empty_entities(params)


    def prepare_drive_changes_output(response: dict[str, Any], drive_id: str, user_id: str) -> \
            tuple[dict[str, Any], list[dict[str, Any | None]], list[dict[str, Any | None]]]:
        """
        Prepares context output and human readable for google-drive-changes-list command.

        :param response: Response from API.
        :param drive_id: Drive Id.
        :param user_id: User's primary email address.

        :return: Tuple of output and human readable.
        """
        page_context = {
            'userId': user_id,
            'driveId': drive_id,
            'nextPageToken': response.get('nextPageToken', ''),
            'newStartPageToken': response.get('newStartPageToken', '')
        }
        page_context = GSuiteClient.remove_empty_entities(page_context)

        drive_changes_context = GSuiteClient.remove_empty_entities(response.get('changes', []))

        outputs = {
            OUTPUT_PREFIX['DRIVE_CHANGES_LIST']: drive_changes_context,
            OUTPUT_PREFIX['DRIVE_CHANGES_LIST_PAGE_TOKEN']: page_context
        }
        outputs = GSuiteClient.remove_empty_entities(outputs)

        drive_changes_hr_files: list[dict[str, Any]] = [{}]
        drive_changes_hr_drives: list[dict[str, Any]] = [{}]
        for drive_change in drive_changes_context:
            drive_change_file = drive_change.get('file', {})
            drive_changes_hr_files.append({
                'Id': drive_change_file.get('id', ''),
                'Name': drive_change_file.get('name', ''),
                'Modified Time': drive_change_file.get('modifiedTime', ''),
                'Size(bytes)': drive_change_file.get('size', ''),
                'lastModifyingUser': drive_change_file.get('lastModifyingUser', {}).get('displayName', '')
            })

            drive_change_drive = drive_change.get('drive', {})
            drive_changes_hr_drives.append({
                'Id': drive_change_drive.get('id', ''),
                'Name': drive_change_drive.get('name', ''),
                'ThemeId': drive_change_drive.get('themeId', ''),
                COLOR_RGB: drive_change_drive.get('colorRgb', '')
            })

        drive_changes_hr_files = GSuiteClient.remove_empty_entities(drive_changes_hr_files)
        drive_changes_hr_drives = GSuiteClient.remove_empty_entities(drive_changes_hr_drives)

        return outputs, drive_changes_hr_files, drive_changes_hr_drives


    def prepare_body_for_drive_activity(args: dict[str, str]) -> dict[str, str | int]:
        """
        To prepare body for drive_activity_list_command.

        :param args: Command arguments.
        :return: Dict of arguments.
        """
        filter_activity = ''
        time_range = args.get('time_range', '')
        action_detail_case_include = args.get('action_detail_case_include', '')
        action_detail_case_remove = args.get('action_detail_case_remove', '')
        if time_range:
            time_range, _ = parse_date_range(time_range, date_format=DATE_FORMAT_TIME_RANGE, utc=True)

            filter_activity += f'time >= "{time_range}"'

        if action_detail_case_include:
            filter_activity += ' AND ' + DRIVE_ACTIVITY_DETAIL_ACTION.format(
                action_detail_case_include) if time_range else DRIVE_ACTIVITY_DETAIL_ACTION.format(
                action_detail_case_include)

        if action_detail_case_remove:
            filter_activity += ' AND -' + DRIVE_ACTIVITY_DETAIL_ACTION.format(
                action_detail_case_remove) if time_range or action_detail_case_include \
                else ' -' + DRIVE_ACTIVITY_DETAIL_ACTION.format(action_detail_case_remove)

        if args.get('filter', ''):
            filter_activity = args.get('filter', '')

        arguments = {
            'ancestorName': args.get('folder_name', ''),
            'itemName': args.get('item_name', ''),
            'pageToken': args.get('page_token', ''),
            'filter': filter_activity
        }
        return GSuiteClient.remove_empty_entities(arguments)


    def set_true_for_empty_dict(d):
        """
        Recursively set value of empty dicts from a dictionary.

        For some of entity G Suite API return {} (blank dictionary) which indicates some actions on resource.
        Eg. Here, new or upload indicates resource is newly created or uploaded on the server.
        {
        "new": {}, // An object was created from scratch.
        "upload": {}, // An object was uploaded into Drive.
        }

        :param d: Input dictionary.
        :return: Dictionary with all empty dictionary's value set as True.
        """
        if not isinstance(d, dict | list):
            return d
        elif isinstance(d, list):
            return ([set_true_for_empty_dict(value) for value in d])
        else:
            if d == {}:
                return True
            return {key: True if value == {} else value for key, value in ((key, set_true_for_empty_dict(value))
                                                                           for key, value in d.items())}


    def prepare_drive_activity_output(activity: dict[str, Any]) -> dict[str, Any]:
        """
        Prepares context output for google-drive-activity-list command.

        :param activity: Response from API.

        :return: Context output.
        """
        activity_name = list(activity.get('primaryActionDetail', {}).keys())
        drive_activity_context = {
            'name': activity_name[0] if activity_name else '',
        }
        drive_activity_context.update(activity)
        drive_activity_context = set_true_for_empty_dict(drive_activity_context)

        return GSuiteClient.remove_empty_entities(drive_activity_context)


    def prepare_hr_setting_changes_entity(context: dict[str, Any]) -> str:
        """
        Prepare human readable of setting entity of google-drive-activity-list

        :param context: Prepared context data.
        :return: Restriction changes.
        """
        restriction_changes = ''
        settings_change = [
            {
                'feature': setting.get('feature', ''),
                'newRestriction': setting.get('newRestriction', '')
            } for setting in context.get('primaryActionDetail', {}).get('settingsChange', {}).get('restrictionChanges', [])
        ]
        for restriction in settings_change:
            restriction_changes += prepare_markdown_from_dictionary(restriction) + '\n'
        return restriction_changes


    def prepare_target_for_drive_activity(targets_list: list) -> str:
        """

        :param targets_list: Target entity in context data.

        :return: Prepared markdown string.
        """
        targets_data: str = ''
        for target in targets_list:
            drive: dict[str, Any] = target.get('drive', {})
            file_comment_parent: dict[str, Any] = target.get('fileComment', {}).get('parent', {})
            drive_item: dict[str, Any] = target.get('driveItem', {})
            if drive_item:
                targets_data += 'Target: \'' + drive_item.get('title', '') + "'\n"

            elif drive:
                targets_data += 'Target: \'' + drive.get('title', '') + "'\n"

            elif file_comment_parent:
                targets_data += 'Commented on file \'' + file_comment_parent.get('title', '') + "'\n"

        return targets_data


    def prepare_drive_activity_human_readable(outputs_context: list[dict[str, Any]]) -> str:
        """
        Prepares human readable for google-drive-activity-list command.

        :param outputs_context: Context data.

        :return: Human readable.
        """
        drive_hr: list[dict[str, Any]] = [{}]
        for context in outputs_context:
            primary_action_detail = context.get('primaryActionDetail', {})

            name = context.pop('name', '')
            object_target: str = prepare_target_for_drive_activity(context.get('targets', []))
            time_stamp = context.get('timestamp', '')

            if name == 'edit':
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'Edit',
                                 OBJECT_HEADER: object_target})

            elif name == 'delete':
                delete_type: str = 'Delete Type: ' + primary_action_detail.get('delete', {}).get('type', '') + '\n'
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'Delete',
                                 OBJECT_HEADER: delete_type + object_target})

            elif name == 'restore':
                restore_type: str = 'Restore Type: ' + primary_action_detail.get('restore', {}).get('type', '') + '\n'
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'Restore',
                                 OBJECT_HEADER: restore_type + object_target})

            elif name == 'dlpChange':
                dlp_type: str = 'DataLeakPreventionChange Type: ' + primary_action_detail.get('dlpChange',
                                                                                              {}).get('type', '') + '\n'
                drive_hr.append(
                    {ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'DataLeakPreventionChange',
                     OBJECT_HEADER: dlp_type + object_target})

            elif name == 'reference':
                reference_type: str = 'Reference Type: ' + primary_action_detail.get('reference', {}).get('type', '') + '\n'

                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'Reference',
                                 OBJECT_HEADER: reference_type + object_target})

            elif name == 'rename':
                rename_object: dict[str, Any] = primary_action_detail.get('rename', {})
                rename_titles: str = 'Old Title: \'' + rename_object.get('oldTitle', '') + "'\n" + 'New Title: \'' + \
                                     rename_object.get('newTitle', '') + "'\n"
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'Rename',
                                 OBJECT_HEADER: rename_titles})

            elif name == 'move':
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'Move', OBJECT_HEADER: object_target})

            elif name == 'permissionChange':
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'PermissionChange',
                                 OBJECT_HEADER: object_target})

            elif name == 'settingsChange':
                settings_changes: str = prepare_hr_setting_changes_entity(context)
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'SettingsChange',
                                 OBJECT_HEADER: settings_changes + object_target})

            elif name == 'comment':
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'Comment',
                                 OBJECT_HEADER: object_target})

            elif name == 'create':
                created: list = list(primary_action_detail.get('create', {}).keys())
                drive_hr.append({ACTIVITY_TIME: time_stamp, PRIMARY_ACTION: 'Create ' + created[0].capitalize(),
                                 OBJECT_HEADER: object_target})

        drive_hr = GSuiteClient.remove_empty_entities(drive_hr)
        drive_activity_hr = tableToMarkdown(HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('Drive Activity(s)', len(drive_hr)),
                                            drive_hr,
                                            [ACTIVITY_TIME, PRIMARY_ACTION, OBJECT_HEADER],
                                            headerTransform=pascalToSpace,
                                            removeNull=True)

        return drive_activity_hr


    def flatten_user_dict(user: dict[str, Any]) -> dict[str, Any]:
        """
        Flatten keys of user to populate the grid field.

        :param user: user's dictionary.

        :return: flatten user dictionary.
        """
        known_user = user.get('knownUser', {})
        return GSuiteClient.remove_empty_entities({
            'personName': known_user.get('personName'),
            'isCurrentUser': known_user.get('isCurrentUser'),
            'isDeletedUser': set_true_for_empty_dict(user.get('deletedUser')),
            'isUnknownUser': set_true_for_empty_dict(user.get('unknownUser'))})


    def flatten_targets_keys_for_fetch_incident(activity: dict[str, Any]) -> None:
        """
        Flatten keys of targets to populate the grid field.

        :param activity: dictionary of activity.

        :return: List of targets and actors value.
        """

        def update_drive_item(item):
            owner_user = item.get('owner', {}).get('user', {})
            return GSuiteClient.remove_empty_entities({
                'itemname': item.get('name'),
                'title': item.get('title'),
                'owner': owner_user.get('knownUser', {}).get('personName'),
                'iscurrentuser': owner_user.get('knownUser', {}).get('isCurrentUser'),
                'isdeleteduser': set_true_for_empty_dict(owner_user.get('deletedUser')),
                'isunknownuser': set_true_for_empty_dict(owner_user.get('unknownUser'))
            })

        flatten_targets = []
        activity_targets = activity.get('targets', [])
        for target in activity_targets:
            if 'driveItem' in target:
                flatten_targets.append(update_drive_item(target.get('driveItem', {})))
            elif 'drive' in target:
                flatten_targets.append(update_drive_item(target.get('drive', {}).get('root', {})))
            elif 'fileComment' in target:
                file_parents = update_drive_item(target.get('fileComment', {}).get('parent', {}))
                file_parents['Link'] = target.get('fileComment', {}).get('linkToDiscussion', '')
                flatten_targets.append(file_parents)
        activity['targets'] = flatten_targets


    def actors_type_keys_for_fetch_incident(activity: dict[str, Any]) -> None:
        """
        Actors to populate on incident.

        :param activity: dictionary of activity.

        :return: None.
        """
        actors_list = activity.get('actors', [])
        flatten_actors: str = ''
        for actor in actors_list:
            known_user = actor.get('user', {}).get('knownUser', {})
            if known_user:
                flatten_actors += 'Known User: ' + known_user.get('personName', '')
            elif set_true_for_empty_dict(actor.get('user', {}).get('deletedUser')):
                flatten_actors += 'Deleted User'
            elif set_true_for_empty_dict(actor.get('user', {}).get('unknownUser')):
                flatten_actors += 'Unknown User'
            else:
                flatten_actors += list(actor.keys())[0].capitalize()
            flatten_actors += "\n"
        activity['actors'] = flatten_actors


    def flatten_permission_change_keys_for_fetch_incident(permission_change: dict[str, Any]) -> None:
        """
        Flatten keys of permission change to populate the grid field.

        :param permission_change: dictionary of Permission Change.

        :return: None
        """

        def update_permission(permission):
            permission_group = permission.get('group', {})
            prepared_permission = {
                'role': permission.get('role', ''),
                'allowdiscovery': permission.get('allowDiscovery'),
                'groupemail': permission_group.get('email'),
                'grouptitle': permission_group.get('title'),
                'domainname': permission.get('domain', {}).get('name'),
                'isanyone': set_true_for_empty_dict(permission.get('anyone'))
            }
            prepared_permission.update(flatten_user_dict(permission.get('user', {})))
            return GSuiteClient.remove_empty_entities(prepared_permission)

        if 'addedPermissions' in permission_change:
            permission_change['addedPermissions'] = [update_permission(permission) for permission in
                                                     permission_change['addedPermissions']]
        if 'removedPermissions' in permission_change:
            permission_change['removedPermissions'] = [update_permission(permission) for permission in
                                                       permission_change['removedPermissions']]


    def flatten_move_keys_for_fetch_incident(move: dict[str, Any]) -> None:
        """
        Flatten keys of move to populate the grid field.

        :param move: dictionary of move.

        :return: None
        """

        def update_move_parents(parents):
            parent_drive_item = parents.get('driveItem', {})
            parent_drive = parents.get('drive', {})
            return GSuiteClient.remove_empty_entities({
                'driveitemname': parent_drive_item.get('name'),
                'driveitemtitle': parent_drive_item.get('title'),
                'driveitemisdrivefile': set_true_for_empty_dict(parent_drive_item.get('driveFile')),
                'driveitemfoldertype': parent_drive_item.get('driveFolder', {}).get('type'),
                'drivename': parent_drive.get('name'),
                'drivetitle': parent_drive.get('title')
            })

        if 'addedParents' in move:
            move['addedParents'] = [update_move_parents(parents) for parents in
                                    move['addedParents']]
        if 'removedParents' in move:
            move['removedParents'] = [update_move_parents(parents) for parents in
                                      move['removedParents']]


    def flatten_comment_mentioned_user_keys_for_fetch_incident(comment: dict[str, Any]) -> None:
        """
         Flatten keys of mentioned_users to populate the grid field.

        :param comment: list of comment.

        :return: None
        """
        if 'mentionedUsers' in comment:
            comment['mentionedUsers'] = [flatten_user_dict(user) for user in
                                         comment['mentionedUsers']]


    def prepare_args_for_fetch_incidents(last_fetch: int, args: dict[str, Any]) -> dict[str, Any]:
        """
         Prepares arguments for fetch-incidents.

        :param last_fetch: last fetch time of incident.
        :param args: fetch-incident arguments.

        :return: Prepared request body for fetch-incident.
        """
        if (args.get('drive_item_search_value') and not args.get('drive_item_search_field')) or \
                (not args.get('drive_item_search_value') and args.get('drive_item_search_field')):
            raise ValueError(MESSAGES['FETCH_INCIDENT_REQUIRED_ARGS'])

        action_detail_case_include = [action.upper() for action in args.get('action_detail_case_include', [])]

        action_detail_case_str = ''
        if args.get('action_detail_case_include'):
            action_detail_case = ' '.join(action_detail_case_include)
            action_detail_case_str += f" AND detail.action_detail_case: ({action_detail_case})"

        drive_item_search_field = args.get('drive_item_search_field', '')
        if drive_item_search_field == 'folderName':
            drive_item_search_field = 'ancestorName'
        return GSuiteClient.remove_empty_entities({
            'filter': f'time > {last_fetch}{action_detail_case_str}',
            drive_item_search_field: args.get('drive_item_search_value'),
            'pageSize': 100
        })


    def validate_params_for_fetch_incidents(params: dict[str, Any]) -> None:
        """
        Validates parameters for fetch-incidents command.

        :param params: parameters dictionary.

        :return: None
        """
        if not params.get('user_id'):
            raise ValueError(MESSAGES['USER_ID_REQUIRED'])

        params['first_fetch_interval'], _ = parse_date_range(params.get('first_fetch', '10 minutes'), utc=True)

        # Check for depended required parameters.
        if (params.get('drive_item_search_value') and not params.get('drive_item_search_field')) or \
                (not params.get('drive_item_search_value') and params.get('drive_item_search_field')):
            raise ValueError(MESSAGES['FETCH_INCIDENT_REQUIRED_ARGS'])

        params['max_fetch'] = GSuiteClient.validate_get_int(params.get('max_fetch', 10), limit=100,
                                                            message=MESSAGES['MAX_INCIDENT_ERROR'])


    ''' COMMAND FUNCTIONS '''


    @logger
    def test_module(gsuite_client: 'GSuiteClient', last_run: dict, params: dict[str, Any]) -> str:
        """
        Performs test connectivity by valid http response

        :param gsuite_client: client object which is used to get response from api.
        :param last_run: Demisto last run dictionary.
        :param params: configuration parameters.

        :return: raise ValueError if any error occurred during connection
        :raises DemistoException: If there is any other issues while making the http call.
        """
        if params.get('isFetch'):
            fetch_incidents(gsuite_client, last_run, params, is_test=True)
        else:
            with GSuiteClient.http_exception_handler():
                body = prepare_body_for_drive_activity(params)
                user_id = params.get('user_id', '')
                gsuite_client.set_authorized_http(scopes=COMMAND_SCOPES['DRIVE_ACTIVITY'], subject=user_id)
                gsuite_client.http_request(full_url=URLS['DRIVE_ACTIVITY'], method='POST', body=body)

        return 'ok'


    @logger
    def drive_create_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Creates a new Team Drive. The name argument specifies the name of the Team Drive. The specified user will be the
        first organizer.
        This shared drive/team drive feature is available only with G Suite Enterprise, Enterprise for Education,
        G Suite Essentials, Business, Education, and Nonprofits edition.

        :param client: Client object.
        :param args: Command arguments.

        :return: CommandResults.
        """

        client.set_authorized_http(scopes=SCOPES['DRIVE'], subject=args.get('user_id', ''))

        GSuiteClient.validate_set_boolean_arg(args, 'hidden')

        response = client.http_request(url_suffix=URL_SUFFIX['DRIVE_CREATE'],
                                       params={'requestId': str(uuid.uuid4())}, body=args, method='POST')
        response = GSuiteClient.remove_empty_entities(response)

        hr_output_fields = ['id', 'name', 'hidden']

        hr_output = response.copy()

        readable_output = tableToMarkdown(HR_MESSAGES['DRIVE_CREATE_SUCCESS'], hr_output, headerTransform=pascalToSpace,
                                          removeNull=True, headers=hr_output_fields)

        return CommandResults(
            outputs_prefix=OUTPUT_PREFIX['GOOGLE_DRIVE_HEADER'],
            outputs_key_field='id',
            outputs=response,
            readable_output=readable_output,
            raw_response=response
        )


    @logger
    def drive_changes_list_command(client: 'GSuiteClient', args: dict[str, Any]) -> CommandResults:
        """
        Lists the changes for a user or shared drive.

        :param client: client object which is used to get response from api
        :param args: command arguments.

        :return: CommandResults object with context and human-readable.
        """
        user_id = args.get('user_id', '')
        params = prepare_params_for_drive_changes_list(args)
        client.set_authorized_http(scopes=COMMAND_SCOPES['DRIVE_CHANGES'], subject=user_id)
        response = client.http_request(url_suffix=URL_SUFFIX['DRIVE_CHANGES'], method='GET',
                                       params=params)

        outputs, drive_changes_hr_files_list, drive_changes_hr_drives_list = \
            prepare_drive_changes_output(response, args.get('drive_id', ''), user_id)
        readable_output = ''
        if response.get('nextPageToken'):
            readable_output += NEXT_PAGE_TOKEN.format(response.get('nextPageToken'))
        if response.get('newStartPageToken'):
            readable_output += '### New Start Page Token: {}\n'.format(response.get('newStartPageToken'))

        readable_output += tableToMarkdown('Files(s)',
                                           drive_changes_hr_files_list,
                                           ['Id', 'Name', 'Size(bytes)', 'Modified Time', 'lastModifyingUser'],
                                           headerTransform=pascalToSpace,
                                           removeNull=True)

        readable_output += tableToMarkdown('Drive(s)', drive_changes_hr_drives_list,
                                           ['Id', 'Name', 'ThemeId', COLOR_RGB],
                                           headerTransform=pascalToSpace,
                                           removeNull=True)
        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def prepare_drives_request(client: 'GSuiteClient', args: dict[str, str]) -> dict[str, Any]:
        """
        prepare_drives_request
        Preparing http_request_params and populating the client

        :param client: Client object.
        :param args: Command arguments.

        :return: Objects ready for requests
        """

        http_request_params: dict[str, str] = assign_params(
            q=args.get('query'),
            pageSize=args.get('page_size'),
            pageToken=args.get('page_token'),
        )

        # user_id can be overridden in the args
        user_id = args.get('user_id') or client.user_id
        client.set_authorized_http(scopes=COMMAND_SCOPES['DRIVES'], subject=user_id)

        return {
            'http_request_params': http_request_params,
            'user_id': user_id,
        }


    @logger
    def drives_list_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        google-drive-drives-list
        Query drives list in Google Drive.

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        # All drives
        prepare_drives_request_res = prepare_drives_request(client, args)
        http_request_params = prepare_drives_request_res['http_request_params']
        http_request_params['useDomainAdminAccess'] = 'true' if argToBoolean(args.get('use_domain_admin_access')) else 'false'
        http_request_params['fields'] = '*'
        url_suffix = URL_SUFFIX['DRIVE_DRIVES']
        response = client.http_request(url_suffix=url_suffix, method='GET', params=http_request_params)
        return handle_response_drive_list(response)


    @logger
    def drive_get_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        google-drive-drive-get
        Query a single drive in Google Drive.

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        # Specific drive
        prepare_drives_request_res = prepare_drives_request(client, args)
        http_request_params = prepare_drives_request_res['http_request_params']
        http_request_params['fields'] = '*'
        url_suffix = URL_SUFFIX['DRIVE_DRIVES_ID'].format(args.get('drive_id'))
        response = client.http_request(url_suffix=url_suffix, method='GET', params=http_request_params)
        return handle_response_single_drive(response, args)


    @logger
    def drive_delete_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        google-drive-drive-delete
        Deletes a single shared drive in Google Drive.

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """
        drive_id = args.get('drive_id')

        # Specific drive
        prepare_drives_request_res = prepare_drives_request(client, args)
        http_request_params = prepare_drives_request_res['http_request_params']
        http_request_params['useDomainAdminAccess'] = 'true' if argToBoolean(args.get('use_domain_admin_access')) else 'false'
        http_request_params['allowItemDeletion'] = 'true' if argToBoolean(args.get('allow_item_deletion')) else 'false'
        http_request_params['fields'] = '*'
        url_suffix = URL_SUFFIX['DRIVE_DRIVES_ID'].format(drive_id)
        response = client.http_request(url_suffix=url_suffix, method='DELETE', params=http_request_params)

        ret_value = CommandResults(
            raw_response=response,
            readable_output=HR_MESSAGES['DRIVE_DELETE_SUCCESS'].format(drive_id),
        )
        return ret_value


    def handle_response_drive_list(response: dict[str, Any]) -> CommandResults:
        outputs_context = []
        readable_output = ''

        drives_context = set_true_for_empty_dict(response)
        cleaned_drives_context = GSuiteClient.remove_empty_entities(drives_context)
        for current_drive in cleaned_drives_context.get('drives', []):
            outputs_context.append(current_drive)

        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_DRIVE_HEADER']: {
                OUTPUT_PREFIX['DRIVE']: outputs_context,
            },
        }

        drives_hr = prepare_drives_human_readable(outputs_context)
        readable_output += drives_hr if response.get('drives', '') \
            else HR_MESSAGES['NOT_FOUND'].format('Drives')

        if response.get('nextPageToken', ''):
            outputs[OUTPUT_PREFIX['GOOGLE_DRIVE_DRIVE_HEADER']][OUTPUT_PREFIX['PAGE_TOKEN']] = response['nextPageToken']
            readable_output += NEXT_PAGE_TOKEN.format(response.get('nextPageToken'))
        outputs = GSuiteClient.remove_empty_entities(outputs)

        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def handle_response_single_drive(response: dict[str, Any], args: dict[str, str]):
        drive_context = set_true_for_empty_dict(response)
        outputs_context = GSuiteClient.remove_empty_entities(drive_context)

        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_DRIVE_HEADER']: {
                OUTPUT_PREFIX['DRIVE']: outputs_context,
            },
        }

        outputs = GSuiteClient.remove_empty_entities(outputs)

        readable_output = ''
        drive_hr = prepare_single_drive_human_readable(outputs_context, args)
        readable_output += drive_hr if response.get('id', '') \
            else HR_MESSAGES['NOT_FOUND'].format('Drive')

        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def prepare_drives_human_readable(outputs_context: list[dict[str, Any]]) -> str:
        """
        Prepares human readable for google-drives-list command.

        :param outputs_context: Context data.

        :return: Human readable.
        """

        return tableToMarkdown(HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('Drive(s)', len(outputs_context)),
                               GSuiteClient.remove_empty_entities(outputs_context),
                               ['id', 'name', 'createdTime'],
                               headerTransform=pascalToSpace,
                               removeNull=True)


    def prepare_single_drive_human_readable(outputs_context: dict[str, Any], args: dict[str, str]) -> str:
        """
        Prepares human readable for a single drive in google-drives-list command.

        :param outputs_context: Context data.

        :return: Human readable.
        """

        fields = args.get('fields', 'id, name')
        return tableToMarkdown(HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('Drive(s)', 1),
                               GSuiteClient.remove_empty_entities(outputs_context),
                               [x.strip() for x in fields.split(',')],
                               headerTransform=pascalToSpace,
                               removeNull=True)


    def prepare_file_read_request(client: 'GSuiteClient', args: dict[str, str]) -> dict[str, Any]:
        corpora_values = {
            'User': 'user',
            'Domain': 'domain',
            'Drive': 'drive',
            'All Drives': 'allDrives'
        }

        http_request_params: dict[str, str] = assign_params(
            q=args.get('query'),
            pageSize=args.get('page_size'),
            pageToken=args.get('page_token'),
            supportsAllDrives=argToBoolean(args.get('supports_all_drives', False)),
            includeItemsFromAllDrives=args.get('include_items_from_all_drives'),
            driveId=args.get('drive_id'),
            corpora=corpora_values[args.get('corpora', 'User')]
        )

        # driveId must be specified if and only if corpora is set to drive
        if http_request_params.get('driveId'):
            http_request_params['corpora'] = 'drive'

        # user_id can be overridden in the args
        user_id = args.get('user_id') or client.user_id
        client.set_authorized_http(scopes=COMMAND_SCOPES['FILES'], subject=user_id)

        return {
            'client': client,
            'http_request_params': http_request_params,
            'user_id': user_id,
        }


    @logger
    def files_list_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        google-drive-files-list
        Query files list in Google Drive.

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        # All files
        prepare_file_read_request_res = prepare_file_read_request(client, args)
        http_request_params = prepare_file_read_request_res['http_request_params']
        http_request_params['fields'] = '*'
        url_suffix = URL_SUFFIX['DRIVE_FILES']
        response = client.http_request(url_suffix=url_suffix, method='GET', params=http_request_params)
        return handle_response_files_list(response)


    @logger
    def file_get_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        google-drive-file-get
        Query a single file in Google Drive.

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        # Specific file
        prepare_file_read_request_res = prepare_file_read_request(client, args)
        http_request_params = prepare_file_read_request_res['http_request_params']
        # Make sure we have the field "id".
        http_request_params['fields'] = 'id, ' + args.get('fields', 'id')
        url_suffix = URL_SUFFIX['DRIVE_FILES_ID'].format(args.get('file_id'))
        response = client.http_request(url_suffix=url_suffix, method='GET', params=http_request_params)
        return handle_response_single_file(response, args)


    def handle_response_files_list(response: dict[str, Any]) -> CommandResults:
        outputs_context = []
        readable_output = ''

        for current_file in response.get('files', []):
            # outputs_context.append(prepare_file_output(current_file))
            outputs_context.append(current_file)

        files_hr = prepare_files_human_readable(outputs_context)

        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_HEADER']: {
                OUTPUT_PREFIX['FILE']: outputs_context,
            },
        }
        readable_output += files_hr if response.get('files', '') \
            else HR_MESSAGES['NOT_FOUND'].format('Files')

        if response.get('nextPageToken', ''):
            outputs[OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_HEADER']][OUTPUT_PREFIX['PAGE_TOKEN']] = response['nextPageToken']
            readable_output += NEXT_PAGE_TOKEN.format(response.get('nextPageToken'))
        outputs = GSuiteClient.remove_empty_entities(outputs)

        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def handle_response_single_file(response: dict[str, Any], args: dict[str, str]):
        outputs_context = prepare_single_file_output(response)

        file_hr = prepare_single_file_human_readable(outputs_context, args)

        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_HEADER']: {
                OUTPUT_PREFIX['FILE']: outputs_context
            }
        }
        outputs = GSuiteClient.remove_empty_entities(outputs)

        readable_output = file_hr if response.get('id', '') \
            else HR_MESSAGES['NOT_FOUND'].format('File')

        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def prepare_files_human_readable(outputs_context: list[dict[str, Any]]) -> str:
        """
        Prepares human readable for google-files-list command.

        :param outputs_context: Context data.

        :return: Human readable.
        """

        return tableToMarkdown(HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('File(s)', len(outputs_context)),
                               GSuiteClient.remove_empty_entities(outputs_context),
                               ['id', 'name', 'mimeType', 'description', 'size', 'driveId',
                                'createdTime', 'modifiedTime', ],
                               headerTransform=pascalToSpace,
                               removeNull=True)


    def prepare_single_file_output(response: dict[str, Any]) -> dict[str, Any]:
        """
        Prepares context output for a single file in google-files-list command.

        :param activity: Response from API.

        :return: Context output.
        """

        files_context = set_true_for_empty_dict(response)
        return GSuiteClient.remove_empty_entities(files_context)


    def prepare_single_file_human_readable(outputs_context: dict[str, Any], args: dict[str, str]) -> str:
        """
        Prepares human readable for a single file in google-files-list command.

        :param outputs_context: Context data.

        :return: Human readable.
        """

        return tableToMarkdown(
            HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('File(s)', 1),
            GSuiteClient.remove_empty_entities(outputs_context),
            [x.strip() for x in args.get('fields', 'id').split(',')],
            headerTransform=pascalToSpace,
            removeNull=False)


    def prepare_file_command_request(client: 'GSuiteClient', args: dict[str, str], scopes: list[str]) -> dict[str, Any]:
        # Prepare generic HTTP request params
        http_request_params = assign_params(supportsAllDrives=args.get('supports_all_drives'))

        # user_id can be overridden in the args
        user_id = args.get('user_id') or client.user_id
        client.set_authorized_http(scopes=scopes, subject=user_id)

        return {
            'http_request_params': http_request_params,
            'user_id': user_id,
        }


    @logger
    def file_upload_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Upload a file to Google Drive

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        file_entry_id = args.get('entry_id')
        file_path = demisto.getFilePath(file_entry_id)

        user_id = args.get('user_id') or client.user_id
        client.set_authorized_http(scopes=COMMAND_SCOPES['FILES'], subject=user_id)
        drive_service = discovery.build(serviceName=SERVICE_NAME, version=API_VERSION, http=client.authorized_http)
        body: dict[str, str] = assign_params(
            parents=[args.get('parent')] if 'parent' in args else None,
            name=args.get('file_name'),
        )

        body = GSuiteClient.remove_empty_entities(body)

        media = MediaFileUpload(file_path['path'])
        file = drive_service.files().create(body=body,
                                            media_body=media,
                                            fields='*'
                                            ).execute()
        return handle_response_file_single(file, args)


    @logger
    def file_download_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Download a file from Google Drive

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        prepare_file_command_request(client, args, scopes=COMMAND_SCOPES['FILES'])

        drive_service = discovery.build(serviceName=SERVICE_NAME, version=API_VERSION, http=client.authorized_http)
        request = drive_service.files().get_media(fileId=args.get('file_id'))
        fh = io.BytesIO()
        downloader = MediaIoBaseDownload(fh, request)
        done = False
        while done is False:
            status, done = downloader.next_chunk()
        return fileResult(args.get('file_name'), fh.getvalue())


    @logger
    def file_replace_existing_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Replace an existing file in Google Drive
            google-drive-file-replace-existing

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        file_entry_id = args.get('entry_id')
        file_path = demisto.getFilePath(file_entry_id)

        drive_service = discovery.build(serviceName=SERVICE_NAME, version=API_VERSION, http=client.authorized_http)
        media = MediaFileUpload(file_path['path'])
        file = drive_service.files().update(fileId=args.get('file_id', ''),
                                            body={},
                                            media_body=media,
                                            fields='*'
                                            ).execute()
        return handle_response_file_single(file, args)


    @logger
    def modify_label_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        modify_label_request_res = prepare_file_modify_labels_request(
            client, args, scopes=COMMAND_SCOPES['MODIFY_LABELS_PERMISSIONS_CRUD'])
        http_request_params = modify_label_request_res['http_request_params']

        url_suffix = URL_SUFFIX['FILE_MODIFY_LABEL'].format(args.get('file_id'))
        body_request = {
            "kind": "drive#modifyLabelsRequest",
            "labelModifications": [
                {
                    "fieldModifications": [
                        {
                            "kind": "drive#labelFieldModification",
                            "fieldId": args.get('field_id'),
                            "setSelectionValues": [
                                args.get('selection_label_id')
                            ]
                        }
                    ],
                    "kind": "drive#labelModification",
                    "labelId": args.get('label_id'),
                    "removeLabel": args.get('remove_label', False)
                }
            ]
        }

        response = client.http_request(url_suffix=url_suffix, method='POST', params=http_request_params, body=body_request)

        table_hr_md = tableToMarkdown(HR_MESSAGES['MODIFY_LABEL_SUCCESS'].format(args.get('file_id')),
                                      response,
                                      headerTransform=pascalToSpace,
                                      removeNull=False)
        outputs_context = {
            OUTPUT_PREFIX['LABELS']: response
        }

        return CommandResults(
            outputs=outputs_context,
            raw_response=response,
            readable_output=table_hr_md,
        )


    def get_file_labels_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        modify_label_request_res = prepare_file_modify_labels_request(
            client, args, scopes=COMMAND_SCOPES['MODIFY_LABELS_PERMISSIONS_CRUD'])
        http_request_params = modify_label_request_res['http_request_params']

        url_suffix = URL_SUFFIX['FILE_GET_LABELS'].format(args.get('file_id'))

        response = client.http_request(url_suffix=url_suffix, method='GET', params=http_request_params)

        outputs_context = {
            OUTPUT_PREFIX['LABELS']: response,
            OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_HEADER']: {
                OUTPUT_PREFIX['FILE']: {
                    'id': args.get('file_id'),
                },
            }
        }

        table_hr_md = tableToMarkdown(HR_MESSAGES['GET_LABEL_SUCCESS'].format(args.get('file_id')),
                                      response['labels'],
                                      headerTransform=pascalToSpace,
                                      removeNull=False)

        return CommandResults(
            outputs=outputs_context,
            readable_output=table_hr_md,
        )


    def get_labels_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        modify_label_request_res = prepare_get_labels_request(
            client, args, scopes=COMMAND_SCOPES['MODIFY_LABELS_PERMISSIONS_CRUD'])
        http_request_params = modify_label_request_res['http_request_params']

        full_url = URLS['DRIVE_LABELS'] + '?' + urllib.parse.urlencode(http_request_params)
        demisto.info(f'full url for get labels is: {full_url}')
        response = client.http_request(full_url=full_url, method='GET')

        outputs_context = {
            OUTPUT_PREFIX['LABELS']: response
        }

        table_hr_md = tableToMarkdown(HR_MESSAGES['GET_LABELS_SUCCESS'],
                                      response['labels'],
                                      headerTransform=pascalToSpace,
                                      removeNull=False)
        return CommandResults(
            readable_output=table_hr_md,
            outputs=outputs_context
        )


    @logger
    def file_delete_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Delete a file in Google Drive

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        prepare_file_command_res = prepare_file_command_request(client, args, scopes=COMMAND_SCOPES['FILE_DELETE'])
        http_request_params = prepare_file_command_res['http_request_params']

        url_suffix = URL_SUFFIX['DRIVE_FILES_ID'].format(args.get('file_id'))
        client.http_request(url_suffix=url_suffix, method='DELETE', params=http_request_params)
        outputs_context = {
            'id': args.get('file_id'),
        }
        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_HEADER']: {
                OUTPUT_PREFIX['FILE']: outputs_context,
            }
        }

        table_hr_md = tableToMarkdown(HR_MESSAGES['DELETE_COMMAND_SUCCESS'].format('File(s)', 1),
                                      outputs_context,
                                      ['id'],
                                      headerTransform=pascalToSpace,
                                      removeNull=False)

        ret_value = CommandResults(
            outputs=outputs,
            readable_output=table_hr_md,
        )
        return ret_value


    def handle_response_file_single(response: dict[str, Any], args: dict[str, str]) -> CommandResults:
        readable_output = ''

        outputs_context = prepare_file_single_output(response)

        files_hr = prepare_file_single_human_readable(outputs_context, args)

        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_HEADER']: {
                OUTPUT_PREFIX['FILE']: outputs_context
            }
        }
        outputs = GSuiteClient.remove_empty_entities(outputs)
        readable_output += files_hr

        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def prepare_file_single_output(file_single: dict[str, Any]) -> dict[str, Any]:
        """
        Prepares context output for google-drive-file commands.

        :param activity: Response from API.

        :return: Context output.
        """

        ret_value = {}
        ret_value.update(file_single)
        ret_value = set_true_for_empty_dict(ret_value)

        return GSuiteClient.remove_empty_entities(ret_value)


    def prepare_file_single_human_readable(outputs_context: dict[str, Any], args: dict[str, str]) -> str:
        """
        Prepares human readable for google-drive-file commands.

        :param outputs_context: Context data.

        :return: Human readable.
        """

        return tableToMarkdown(HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('file(s)', 1),
                               GSuiteClient.remove_empty_entities(outputs_context),
                               ['id', 'name', 'mimeType', 'description', 'starred', 'trashed',
                                'parents', 'properties', 'spaces', 'version', 'webContentLink',
                                'webViewLink', 'iconLink', 'hasThumbnail', 'thumbnailLink',
                                'thumbnailVersion', 'viewedByMe', 'viewedByMeTime', 'createdTime',
                                'modifiedTime', 'modifiedByMeTime', 'modifiedByMe', 'sharedWithMeTime',
                                'sharingUser', 'owners', 'teamDriveId', 'driveId', 'lastModifyingUser',
                                'shared', 'ownedByMe', 'capabilities', 'viewersCanCopyContent',
                                'copyRequiresWriterPermission', 'writersCanShare', 'permissions',
                                'permissionIds', 'hasAugmentedPermissions', 'folderColorRgb',
                                'originalFilename', 'fullFileExtension', 'fileExtension', 'md5Checksum',
                                'size', 'quotaBytesUsed', 'headRevisionId', 'contentHints',
                                'isAppAuthorized', 'exportLinks', 'shortcutDetails', 'contentRestrictions',
                                'resourceKey', ],
                               headerTransform=pascalToSpace,
                               removeNull=False)


    def prepare_file_permission_request(client: 'GSuiteClient', args: dict[str, str], scopes: list[str]) -> dict[str, Any]:
        # user_id can be overridden in the args
        user_id = args.get('user_id') or client.user_id
        client.set_authorized_http(scopes=scopes, subject=user_id)
        # Prepare generic HTTP request params
        http_request_params: dict[str, str] = assign_params(
            fileId=args.get('file_id'),
            supportsAllDrives=args.get('supports_all_drives'),
            fields='*',
            useDomainAdminAccess=('true' if argToBoolean(args.get('use_domain_admin_access', 'false')) else 'false')
        )

        return {
            'client': client,
            'http_request_params': http_request_params,
            'user_id': user_id,
        }


    def prepare_file_modify_labels_request(client: 'GSuiteClient', args: dict[str, str], scopes: list[str]) -> dict[str, Any]:
        # user_id can be overridden in the args
        user_id = args.get('user_id') or client.user_id
        client.set_authorized_http(scopes=scopes, subject=user_id)
        # Prepare generic HTTP request params
        http_request_params: dict[str, str] = assign_params(
            fileId=args.get('file_id')
        )

        return {
            'client': client,
            'http_request_params': http_request_params,
            'user_id': user_id,
        }


    def prepare_get_labels_request(client: 'GSuiteClient', args: dict[str, str], scopes: list[str]) -> dict[str, Any]:
        # user_id can be overridden in the args
        user_id = args.get('user_id') or client.user_id
        client.set_authorized_http(scopes=scopes, subject=user_id)
        http_request_params: dict[str, str] = assign_params(
            view='LABEL_VIEW_FULL'
        )

        return {
            'client': client,
            'http_request_params': http_request_params,
            'user_id': user_id,
        }


    @logger
    def file_permission_list_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        List file permissions

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        # All permissions
        prepare_file_permission_request_res = prepare_file_permission_request(
            client, args, scopes=COMMAND_SCOPES['FILE_PERMISSIONS_LIST'])
        http_request_params: dict[str, str] = prepare_file_permission_request_res['http_request_params']

        http_request_params.update(
            assign_params(
                pageSize=args.get('page_size'),
                pageToken=args.get('page_token'),
                fields='*'
            )
        )

        response = client.http_request(url_suffix=URL_SUFFIX['FILE_PERMISSIONS_LIST'], method='GET', params=http_request_params)
        return handle_response_permissions_list(response, args)


    @logger
    def file_permission_create_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Create file permissions

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        prepare_file_permission_request_res = prepare_file_permission_request(
            client, args, scopes=COMMAND_SCOPES['FILE_PERMISSIONS_CRUD'])
        http_request_params: dict[str, str] = prepare_file_permission_request_res['http_request_params']
        http_request_params.update(
            assign_params(
                sendNotificationEmail=args.get('send_notification_email'),
            )
        )

        body: dict[str, str] = assign_params(
            role=args.get('role'),
            type=args.get('type'),
            domain=args.get('domain'),
            emailAddress=args.get('email_address'),
        )
        url_suffix = URL_SUFFIX['FILE_PERMISSION_CREATE'].format(args.get('file_id'))
        response = client.http_request(url_suffix=url_suffix, method='POST', params=http_request_params, body=body)
        return handle_response_permission_single(response, args)


    @logger
    def file_permission_update_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Update file permissions

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        prepare_file_permission_request_res = prepare_file_permission_request(
            client, args, scopes=COMMAND_SCOPES['FILE_PERMISSIONS_CRUD'])
        http_request_params = prepare_file_permission_request_res['http_request_params']

        body: dict[str, str] = assign_params(
            role=args.get('role'),
            expirationTime=args.get('expiration_time'),
        )

        url_suffix = URL_SUFFIX['FILE_PERMISSION_UPDATE'].format(args.get('file_id'), args.get('permission_id'))
        response = client.http_request(url_suffix=url_suffix, method='PATCH', params=http_request_params, body=body)
        return handle_response_permission_single(response, args)


    @logger
    def file_permission_delete_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Delete file permissions

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """

        prepare_file_permission_request_res = prepare_file_permission_request(
            client, args, scopes=COMMAND_SCOPES['FILE_PERMISSIONS_CRUD'])
        http_request_params = prepare_file_permission_request_res['http_request_params']

        url_suffix = URL_SUFFIX['FILE_PERMISSION_DELETE'].format(args.get('file_id'), args.get('permission_id'))
        client.http_request(url_suffix=url_suffix, method='DELETE', params=http_request_params)

        outputs_context: dict = {
            'fileId': args.get('file_id'),
            'id': args.get('permission_id'),
        }
        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_PERMISSION_HEADER']: {
                OUTPUT_PREFIX['FILE_PERMISSION']: outputs_context,
            }
        }

        table_hr_md = tableToMarkdown(HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('Permission(s)', 1),
                                      outputs_context,
                                      ['fileId', 'id'],
                                      headerTransform=pascalToSpace,
                                      removeNull=False)

        return CommandResults(
            outputs=outputs,
            readable_output=table_hr_md,
        )


    def handle_response_permissions_list(response: dict[str, Any], args: dict[str, str]) -> CommandResults:
        outputs_context = []
        readable_output = ''

        for current_permission in response.get('permissions', []):
            outputs_context.append(prepare_permission_output(current_permission))

        files_hr = prepare_permissions_human_readable(outputs_context, args)

        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_PERMISSION_HEADER']: {
                OUTPUT_PREFIX['FILE_PERMISSION']: outputs_context,
            },
        }
        readable_output += files_hr if response.get('permissions', '') \
            else HR_MESSAGES['NOT_FOUND'].format('Permissions')

        if response.get('nextPageToken', ''):
            outputs[OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_PERMISSION_HEADER']][OUTPUT_PREFIX['PAGE_TOKEN']] = response['nextPageToken']
            readable_output += NEXT_PAGE_TOKEN.format(response.get('nextPageToken'))
        outputs = GSuiteClient.remove_empty_entities(outputs)

        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def prepare_permissions_human_readable(outputs_context: list[dict[str, Any]], args: dict[str, str]) -> str:
        """
        Prepares human readable for google-drive-file-permissions-list command.

        :param outputs_context: Context data.

        :return: Human readable.
        """

        return tableToMarkdown(HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('Permission(s)', len(outputs_context)),
                               GSuiteClient.remove_empty_entities(outputs_context),
                               ['id', 'type', 'role', 'emailAddress', 'displayName', 'deleted'],
                               headerTransform=pascalToSpace,
                               removeNull=False)


    def handle_response_permission_single(response: dict[str, Any], args: dict[str, str]) -> CommandResults:
        readable_output = ''

        outputs_context = prepare_permission_output(response)

        files_hr = prepare_permission_human_readable(outputs_context, args)

        outputs: dict = {
            OUTPUT_PREFIX['GOOGLE_DRIVE_FILE_PERMISSION_HEADER']: {
                OUTPUT_PREFIX['FILE_PERMISSION']: outputs_context
            }
        }
        outputs = GSuiteClient.remove_empty_entities(outputs)
        readable_output += files_hr

        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def prepare_permission_output(permission: dict[str, Any]) -> dict[str, Any]:
        """
        Prepares context output for google-drive-file-permissions commands.

        :param activity: Response from API.

        :return: Context output.
        """

        ret_value = {}
        ret_value.update(permission)
        ret_value = set_true_for_empty_dict(ret_value)

        return GSuiteClient.remove_empty_entities(ret_value)


    def prepare_permission_human_readable(outputs_context: dict[str, Any], args: dict[str, str]) -> str:
        """
        Prepares human readable for google-drive-file-permissions commands.

        :param outputs_context: Context data.

        :return: Human readable.
        """

        return tableToMarkdown(HR_MESSAGES['LIST_COMMAND_SUCCESS'].format('Permission(s)', 1),
                               GSuiteClient.remove_empty_entities(outputs_context),
                               ['id', 'type', 'role', 'domain', 'emailAddress', 'displayName', 'deleted'],
                               removeNull=False,
                               headerTransform=pascalToSpace)


    @logger
    def drive_activity_list_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:
        """
        Query past activity in Google Drive.

        :param client: Client object.
        :param args: Command arguments.

        :return: Command Result.
        """
        user_id = args.get('user_id', '')
        body = prepare_body_for_drive_activity(args)

        client.set_authorized_http(scopes=COMMAND_SCOPES['DRIVE_ACTIVITY'], subject=user_id)
        response = client.http_request(full_url=URLS['DRIVE_ACTIVITY'], method='POST', body=body)

        readable_output = ''
        outputs_context = [
            prepare_drive_activity_output(activity)
            for activity in response.get('activities', [])
        ]
        drive_activity_hr = prepare_drive_activity_human_readable(outputs_context)

        outputs: dict = {
            OUTPUT_PREFIX['DRIVE_ACTIVITY_LIST']: outputs_context
        }
        if response.get('nextPageToken', ''):
            outputs[OUTPUT_PREFIX['DRIVE_ACTIVITY_LIST_PAGE_TOKEN']] = {'nextPageToken': response['nextPageToken']}
            readable_output += NEXT_PAGE_TOKEN.format(response.get('nextPageToken'))
        outputs = GSuiteClient.remove_empty_entities(outputs)
        readable_output += drive_activity_hr if response.get('activities', '') \
            else HR_MESSAGES['NOT_FOUND'].format('Drive Activity')

        return CommandResults(
            outputs=outputs,
            readable_output=readable_output,
            raw_response=response,
        )


    def copy_file_http_request(
            client: 'GSuiteClient', file_id: str, supports_all_drives: str, copy_title: str = None, user_id: str = None
    ) -> dict:

        client.set_authorized_http(scopes=COMMAND_SCOPES['FILES'], subject=(user_id or client.user_id))
        drive_service = discovery.build(serviceName=SERVICE_NAME, version=API_VERSION, http=client.authorized_http)

        try:
            return drive_service.files().copy(
                fileId=file_id,
                supportsAllDrives=argToBoolean(supports_all_drives),
                body={'name': copy_title} if copy_title else None,
            ).execute()
        except errors.HttpError as e:
            error_dict = {
                'Details': e.error_details,
                'Status Code': e.resp.status,
                'Reason': e.reason,
            }
            raise DemistoException(f'Unable to copy file.\n{yaml.dump(error_dict)}')


    def file_copy_command(client: 'GSuiteClient', args: dict[str, str]) -> CommandResults:

        file = copy_file_http_request(client, **args)

        return CommandResults(
            outputs_prefix='GoogleDrive.File.File',
            outputs_key_field='id',
            outputs=file,
            readable_output=tableToMarkdown(
                'File copied successfully.', file,
                headerTransform=string_to_table_header
            ),
        )


    def fetch_incidents(client: 'GSuiteClient', last_run: dict, params: dict, is_test: bool = False) -> \
            tuple[list | None, dict | None]:
        """
        Prepares incidents from past activity in Google Drive.

        :param client: Client object.
        :param last_run: A dict with a key containing the latest incident created time we got
            from last fetch
        :param params: arguments for fetch-incident.
        :param is_test: True if fetch-incident is called from test-module.

        :return: A tuple containing two elements:
                next_run (``Dict[str, int]``): Contains the timestamp that will be
                        used in ``last_run`` on the next fetch.
                incidents (``List[dict]``): List of incidents that will be created in XSOAR.
        """
        # Validating params for fetch-incidents.
        validate_params_for_fetch_incidents(params)

        last_fetch = last_run['last_fetch'] if last_run.get('last_fetch') else date_to_timestamp(
            params.get('first_fetch_interval'))

        body = prepare_args_for_fetch_incidents(last_fetch, params)

        incidents: list[dict[str, Any]] = []

        client.set_authorized_http(scopes=COMMAND_SCOPES['DRIVE_ACTIVITY'], subject=params.get('user_id'))
        response = client.http_request(body=body, full_url=URLS['DRIVE_ACTIVITY'],
                                       method='POST')

        activities = response.get('activities', [])
        activities = activities[:params.get('max_fetch', 50)]

        for activity in activities:
            # Flatting keys for grid fields.
            flatten_targets_keys_for_fetch_incident(activity)
            actors_type_keys_for_fetch_incident(activity)
            flatten_permission_change_keys_for_fetch_incident(
                activity.get('primaryActionDetail', {}).get('permissionChange', {}))
            flatten_move_keys_for_fetch_incident(activity.get('primaryActionDetail', {}).get('move', {}))
            flatten_comment_mentioned_user_keys_for_fetch_incident(
                activity.get('primaryActionDetail', {}).get('comment', {}))

            # Setting incident name from primary action details.
            action_key = list(activity.get('primaryActionDetail', {}).keys())
            # Activity contain only one primary action as per G-API.
            incident_name = pascalToSpace(ACTION_MAPPINGS.get(action_key[0], action_key[0]) if action_key else '')

            incident = {
                'name': incident_name,
                'occurred': activity.get('timestamp', activity.get('timeRange', {}).get('endTime', '')),
                'rawJSON': json.dumps(activity)
            }
            incidents.append(incident)

            timestamp = int(
                dateparser.parse(  # type: ignore
                    activity.get('timestamp', activity.get('timeRange', {}).get('endTime', ''))).timestamp() * 1000)

            if timestamp > last_fetch:
                last_fetch = timestamp
        if is_test:
            return None, None
        return incidents, {'last_fetch': last_fetch}


    def main() -> None:  # pragma: no cover
        """
        PARSE AND VALIDATE INTEGRATION PARAMS
        """

        # Commands dictionary
        commands: dict[str, Callable] = {
            'google-drive-create': drive_create_command,
            'google-drive-changes-list': drive_changes_list_command,
            'google-drive-activity-list': drive_activity_list_command,

            'google-drive-drives-list': drives_list_command,
            'google-drive-drive-get': drive_get_command,
            'google-drive-drive-create': drive_create_command,
            'google-drive-drive-delete': drive_delete_command,

            'google-drive-files-list': files_list_command,
            'google-drive-file-get': file_get_command,

            'google-drive-file-upload': file_upload_command,
            'google-drive-file-download': file_download_command,
            'google-drive-file-replace-existing': file_replace_existing_command,
            'google-drive-file-delete': file_delete_command,
            'google-drive-file-copy': file_copy_command,

            'google-drive-file-permissions-list': file_permission_list_command,
            'google-drive-file-permission-create': file_permission_create_command,
            'google-drive-file-permission-update': file_permission_update_command,
            'google-drive-file-permission-delete': file_permission_delete_command,
            'google-drive-file-modify-label': modify_label_command,
            'google-drive-get-labels': get_labels_command,
            'google-drive-get-file-labels': get_file_labels_command,
        }
        command = demisto.command()

        try:
            params = demisto.params()

            account_json = params.get('user_creds', {}).get('password') or params.get('user_service_account_json')
            user_id = params.get('user_creds', {}).get('identifier') or params.get('user_id', '')
            params['user_id'] = user_id
            params['user_service_account_json'] = account_json

            if not account_json:
                raise DemistoException('Please fill out the User\'s Service Account JSON field.')

            service_account_dict = GSuiteClient.safe_load_non_strict_json(account_json)
            verify_certificate = not params.get('insecure', False)
            proxy = params.get('proxy', False)

            headers = {
                'Content-Type': 'application/json'
            }

            # prepare client class object
            gsuite_client = GSuiteClient(
                service_account_dict, base_url='https://www.googleapis.com/',
                verify=verify_certificate, proxy=proxy,
                headers=headers, user_id=user_id
            )

            # Trim the arguments
            args = GSuiteClient.strip_dict(demisto.args())

            # This is the call made when pressing the integration Test button.
            if command == 'test-module':
                result = test_module(gsuite_client, demisto.getLastRun(), params)
                return_results(result)
            elif command == 'fetch-incidents':
                incidents, next_run = fetch_incidents(
                    gsuite_client, last_run=demisto.getLastRun(), params=params,
                )
                demisto.setLastRun(next_run)
                demisto.incidents(incidents)
            elif command in commands:
                return_results(commands[command](gsuite_client, args))
            else:
                raise NotImplementedError(f'{command!r} is not a Google Drive command.')

        # Log exceptions
        except Exception as e:
            return_error(f'Error: {e}')



    ### GENERATED CODE ###: from GSuiteApiModule import *  # noqa: E402
    # This code was inserted in place of an API module.
    register_module_line('GSuiteApiModule', 'start', __line__(), wrapper=-3)


    ''' IMPORTS '''

    import urllib.parse
    import httplib2
    from google.auth import exceptions
    from contextlib import contextmanager
    from google.oauth2 import service_account
    from google_auth_httplib2 import AuthorizedHttp
    from typing import List, Dict, Any, Tuple, Optional

    ''' CONSTANTS '''

    COMMON_MESSAGES: Dict[str, str] = {
        'TIMEOUT_ERROR': 'Connection Timeout Error - potential reasons might be that the Server URL parameter'
                         ' is incorrect or that the Server is not accessible from your host. Reason: {}',
        'HTTP_ERROR': 'HTTP Connection error occurred. Status: {}. Reason: {}',
        'TRANSPORT_ERROR': 'Transport error occurred. Reason: {}',
        'AUTHENTICATION_ERROR': 'Unauthenticated. Check the configured Service Account JSON. Reason: {}',
        'BAD_REQUEST_ERROR': 'An error occurred while fetching/submitting the data. Reason: {}',
        'TOO_MANY_REQUESTS_ERROR': 'Too many requests please try after sometime. Reason: {}',
        'INTERNAL_SERVER_ERROR': 'The server encountered an internal error. Reason: {}',
        'AUTHORIZATION_ERROR': 'Request has insufficient privileges. Reason: {}',
        'JSON_PARSE_ERROR': 'Unable to parse JSON string. Please verify the JSON is valid.',
        'NOT_FOUND_ERROR': 'Not found. Reason: {}',
        'UNKNOWN_ERROR': 'An error occurred. Status: {}. Reason: {}',
        'PROXY_ERROR': 'Proxy Error - if the \'Use system proxy\' checkbox in the integration configuration is'
                       ' selected, try clearing the checkbox.',
        'REFRESH_ERROR': 'Failed to generate/refresh token. Subject email or service account credentials'
                         ' are invalid. Reason: {}',
        'BOOLEAN_ERROR': 'The argument {} must be either true or false.',
        'INTEGER_ERROR': 'The argument {} must be a positive integer.',
        'UNEXPECTED_ERROR': 'An unexpected error occurred.',
    }


    class GSuiteClient:
        """
        Client to use in integration with powerful http_request.
        """

        def __init__(self, service_account_dict: Dict[str, str], proxy: bool, verify: bool,
                     base_url: str = '', headers: Optional[Dict[str, str]] = None,
                     user_id: str = ''):
            self.headers = headers
            try:
                self.credentials = service_account.Credentials.from_service_account_info(info=service_account_dict)
            except Exception:
                raise ValueError(COMMON_MESSAGES['JSON_PARSE_ERROR'])
            self.proxy = proxy
            self.verify = verify
            self.authorized_http: Any = None
            self.base_url = base_url
            self.user_id = user_id

        def set_authorized_http(self, scopes: List[str], subject: Optional[str] = None, timeout: int = 60) -> None:
            """
            Set the http client from given subject and scopes.

            :param scopes: List of scopes needed to make request.
            :param subject: To link subject with credentials.
            :param timeout: Timeout value for request.

            :return: None.
            """
            self.credentials = self.credentials.with_scopes(scopes)
            if subject:
                self.credentials = self.credentials.with_subject(subject)
            authorized_http = AuthorizedHttp(credentials=self.credentials,
                                             http=GSuiteClient.get_http_client(self.proxy, self.verify, timeout=timeout))
            self.authorized_http = authorized_http

        def http_request(self, url_suffix: str = None, params: Optional[Dict[str, Any]] = None,
                         method: str = 'GET',
                         body: Optional[Dict[str, Any]] = None, full_url: Optional[str] = None) -> Dict[str, Any]:
            """
            Makes an API call to URL using authorized HTTP.

            :param url_suffix: url_suffix of url.
            :param params: Parameters to pass in request url.
            :param method: Method to use while making http request.
            :param body: Request body.
            :param full_url: URL to consider for request when given url_suffix will be ignored.

            :return: response json.
            :raises DemistoException: If there is issues while making the http call.
            """
            encoded_params = f'?{urllib.parse.urlencode(params)}' if params else ''

            url = full_url

            if url_suffix:
                url = urljoin(self.base_url, url_suffix)

            url = f'{url}{encoded_params}'

            body = json.dumps(body) if body else None

            with GSuiteClient.http_exception_handler():
                response = self.authorized_http.request(headers=self.headers, method=method, uri=url, body=body)
                return GSuiteClient.validate_and_extract_response(response)

        @staticmethod
        def handle_http_error(error: httplib2.socks.HTTPError) -> None:
            """
            Handle and raise DemistoException with respective message.

            :param error: HTTPError object.

            :return: None
            :raises DemistoException: raise DemistoException with respective error message.
            """
            if error.args and isinstance(error.args[0], tuple):
                error_status, error_msg = error.args[0][0], error.args[0][1].decode()
                if error_status == 407:  # Proxy Error
                    raise DemistoException(COMMON_MESSAGES['PROXY_ERROR'])
                raise DemistoException(COMMON_MESSAGES['HTTP_ERROR'].format(error_status, error_msg))
            raise DemistoException(error)

        @staticmethod
        @contextmanager
        def http_exception_handler():
            """
            Exception handler for handling different exceptions while making http calls.

            :return: None
            :raises DemistoException: If there is any other issues while making the http call.
            """
            try:
                yield
            except httplib2.socks.HTTPError as error:
                GSuiteClient.handle_http_error(error)
            except exceptions.TransportError as error:
                if 'proxyerror' in str(error).lower():
                    raise DemistoException(COMMON_MESSAGES['PROXY_ERROR'])
                raise DemistoException(COMMON_MESSAGES['TRANSPORT_ERROR'].format(error))
            except exceptions.RefreshError as error:
                if error.args:
                    raise DemistoException(COMMON_MESSAGES['REFRESH_ERROR'].format(error.args[0]))
                raise DemistoException(error)
            except TimeoutError as error:
                raise DemistoException(COMMON_MESSAGES['TIMEOUT_ERROR'].format(error))
            except Exception as error:
                raise DemistoException(error)

        @staticmethod
        def get_http_client(proxy: bool, verify: bool, timeout: int = 60) -> httplib2.Http:
            """
            Validate proxy and prepares Http object.

            :param proxy: Boolean indicates whether to use proxy or not.
            :param verify: Boolean indicates whether to use ssl certification.
            :param timeout: Timeout value for request.

            :return: ProxyInfo object.
            :raises DemistoException: If there is any other issues while preparing proxy.
            """
            proxy_info = {}
            proxies = handle_proxy()
            if proxy:
                https_proxy = proxies['https']
                if not https_proxy.startswith('https') and not https_proxy.startswith('http'):
                    https_proxy = 'https://' + https_proxy
                parsed_proxy = urllib.parse.urlparse(https_proxy)
                proxy_info = httplib2.ProxyInfo(
                    proxy_type=httplib2.socks.PROXY_TYPE_HTTP,
                    proxy_host=parsed_proxy.hostname,
                    proxy_port=parsed_proxy.port,
                    proxy_user=parsed_proxy.username,
                    proxy_pass=parsed_proxy.password)

            return httplib2.Http(proxy_info=proxy_info, disable_ssl_certificate_validation=not verify, timeout=timeout)

        @staticmethod
        def validate_and_extract_response(response: Tuple[httplib2.Response, Any]) -> Dict[str, Any]:
            """
            Prepares an error message based on status code and extract a response.

            :param response: Tuple containing httplib2.Response and content.

            :return: response extracted json.
            :raises DemistoException: If there is any other issues parsing response.
            """
            if response[0].status == 200 or response[0].status == 204:
                return GSuiteClient.safe_load_non_strict_json(response[1])

            status_code_message_map = {
                400: COMMON_MESSAGES['BAD_REQUEST_ERROR'],
                401: COMMON_MESSAGES['AUTHENTICATION_ERROR'],
                403: COMMON_MESSAGES['AUTHORIZATION_ERROR'],
                404: COMMON_MESSAGES['NOT_FOUND_ERROR'],
                429: COMMON_MESSAGES['TOO_MANY_REQUESTS_ERROR'],
                500: COMMON_MESSAGES['INTERNAL_SERVER_ERROR']
            }

            try:
                # Depth details of error.
                demisto.debug(response[1].decode() if type(response[1]) is bytes else response[1])
                message = GSuiteClient.safe_load_non_strict_json(response[1]).get('error', {}).get('message', '')
            except ValueError:
                message = COMMON_MESSAGES['UNEXPECTED_ERROR']

            if response[0].status in status_code_message_map:
                raise DemistoException(status_code_message_map[response[0].status].format(message))
            else:
                raise DemistoException(COMMON_MESSAGES['UNKNOWN_ERROR'].format(response[0].status, message))

        @staticmethod
        def safe_load_non_strict_json(json_string: str) -> Dict[str, Any]:
            """
            Loads the JSON with non-strict mode.

            :param json_string: json string to parse.

            :return: Parsed dictionary.
            :raises ValueError: If there is any other issues while parsing json.
            """
            try:
                if json_string:
                    return json.loads(json_string, strict=False)
                return {}
            except ValueError:
                raise ValueError(COMMON_MESSAGES['JSON_PARSE_ERROR'])

        @staticmethod
        def validate_set_boolean_arg(args: Dict[str, Any], arg: str, arg_name: Optional[str] = None) -> None:
            """
            Set and validate boolean arguments.

            :param args: dictionary containing arguments.
            :param arg: key containing boolean arg.
            :param arg_name: In case of arg name is different in command to set in exception.

            :return: None
            :raises ValueError: if boolean arg value is invalid.
            """
            if arg in args:
                try:
                    args[arg] = argToBoolean(args[arg])
                except ValueError:
                    raise ValueError(COMMON_MESSAGES['BOOLEAN_ERROR'].format(arg_name if arg_name else arg))

        @staticmethod
        def remove_empty_entities(d):
            """
            Recursively remove empty lists, empty dicts, or None elements from a dictionary.

            :param d: Input dictionary.
            :return: Dictionary with all empty lists, and empty dictionaries removed.
            """

            def empty(x):
                return x is None or x == {} or x == [] or x == ''

            if not isinstance(d, (dict, list)):
                return d
            elif isinstance(d, list):
                return [value for value in (GSuiteClient.remove_empty_entities(value) for value in d) if not empty(value)]
            else:
                return {key: value for key, value in ((key, GSuiteClient.remove_empty_entities(value))
                                                      for key, value in d.items()) if not empty(value)}

        @staticmethod
        def validate_get_int(max_results: Optional[str], message: str, limit: int = 0) -> Optional[int]:
            """
            Validate and convert string max_results to integer.

            :param max_results: max results in string.
            :param message: Message to display when exception raised.
            :param limit: If max_results > limit raise the exception.

            :return: int max_results
            :raises ValueError: if max_results is not a integer and < 0.
            """
            if max_results:
                try:
                    max_results_int = int(max_results)
                    if max_results_int <= 0:
                        raise ValueError
                    if limit and max_results_int > limit:
                        raise ValueError
                    return max_results_int
                except ValueError:
                    raise ValueError(message)
            return None

        @staticmethod
        def strip_dict(args: Dict[str, str]) -> Dict[str, str]:
            """
            Remove leading and trailing white spaces from dictionary values and remove empty entries.

            :param args: Arguments dict.
            :return: Dictionary with whitespaces and empty entries removed.
            """
            return {key: value.strip() for (key, value) in args.items() if value and value.strip()}

    register_module_line('GSuiteApiModule', 'end', __line__(), wrapper=1)
    ### END GENERATED CODE ###

    if __name__ in ('__main__', '__builtin__', 'builtins'):
        main()

    register_module_line('GoogleDrive', 'end', __line__())
  subtype: python3
  type: python
system: true
